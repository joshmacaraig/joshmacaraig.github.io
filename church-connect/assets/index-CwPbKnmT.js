function lm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Gu={exports:{}},zi={},Ku={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),um=Symbol.for("react.portal"),dm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),pm=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.memo"),xm=Symbol.for("react.lazy"),oc=Symbol.iterator;function wm(e){return e===null||typeof e!="object"?null:(e=oc&&e[oc]||e["@@iterator"],typeof e=="function"?e:null)}var Yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ju=Object.assign,Qu={};function yn(e,t,r){this.props=e,this.context=t,this.refs=Qu,this.updater=r||Yu}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xu(){}Xu.prototype=yn.prototype;function tl(e,t,r){this.props=e,this.context=t,this.refs=Qu,this.updater=r||Yu}var rl=tl.prototype=new Xu;rl.constructor=tl;Ju(rl,yn.prototype);rl.isPureReactComponent=!0;var lc=Array.isArray,Zu=Object.prototype.hasOwnProperty,nl={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zu.call(t,n)&&!ed.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ws,type:e,key:i,ref:o,props:s,_owner:nl.current}}function bm(e,t){return{$$typeof:ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ws}function jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cc=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jm(""+e.key):t.toString(36)}function Ys(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ws:case um:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ma(o,0):n,lc(s)?(r="",e!=null&&(r=e.replace(cc,"$&/")+"/"),Ys(s,t,r,"",function(u){return u})):s!=null&&(sl(s)&&(s=bm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",lc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ma(i,l);o+=Ys(i,t,r,c,s)}else if(c=wm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ma(i,l++),o+=Ys(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Es(e,t,r){if(e==null)return e;var n=[],s=0;return Ys(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},Js={transition:null},Nm={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Js,ReactCurrentOwner:nl};function rd(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Es,forEach:function(e,t,r){Es(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Es(e,function(){t++}),t},toArray:function(e){return Es(e,function(t){return t})||[]},only:function(e){if(!sl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=yn;X.Fragment=dm;X.Profiler=fm;X.PureComponent=tl;X.StrictMode=hm;X.Suspense=vm;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nm;X.act=rd;X.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ju({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=nl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Zu.call(t,c)&&!ed.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ws,type:e.type,key:s,ref:i,props:n,_owner:o}};X.createContext=function(e){return e={$$typeof:pm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mm,_context:e},e.Consumer=e};X.createElement=td;X.createFactory=function(e){var t=td.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:gm,render:e}};X.isValidElement=sl;X.lazy=function(e){return{$$typeof:xm,_payload:{_status:-1,_result:e},_init:_m}};X.memo=function(e,t){return{$$typeof:ym,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Js.transition;Js.transition={};try{e()}finally{Js.transition=t}};X.unstable_act=rd;X.useCallback=function(e,t){return Re.current.useCallback(e,t)};X.useContext=function(e){return Re.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};X.useEffect=function(e,t){return Re.current.useEffect(e,t)};X.useId=function(){return Re.current.useId()};X.useImperativeHandle=function(e,t,r){return Re.current.useImperativeHandle(e,t,r)};X.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Re.current.useMemo(e,t)};X.useReducer=function(e,t,r){return Re.current.useReducer(e,t,r)};X.useRef=function(e){return Re.current.useRef(e)};X.useState=function(e){return Re.current.useState(e)};X.useSyncExternalStore=function(e,t,r){return Re.current.useSyncExternalStore(e,t,r)};X.useTransition=function(){return Re.current.useTransition()};X.version="18.3.1";Ku.exports=X;var y=Ku.exports;const $t=Di(y),Sm=lm({__proto__:null,default:$t},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=y,Cm=Symbol.for("react.element"),Em=Symbol.for("react.fragment"),Pm=Object.prototype.hasOwnProperty,Tm=km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$m={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Pm.call(t,n)&&!$m.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Cm,type:e,key:i,ref:o,props:s,_owner:Tm.current}}zi.Fragment=Em;zi.jsx=nd;zi.jsxs=nd;Gu.exports=zi;var a=Gu.exports,Ga={},sd={exports:{}},Xe={},id={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,P){var I=j.length;j.push(P);e:for(;0<I;){var H=I-1>>>1,G=j[H];if(0<s(G,P))j[H]=P,j[I]=G,I=H;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var P=j[0],I=j.pop();if(I!==P){j[0]=I;e:for(var H=0,G=j.length,z=G>>>1;H<z;){var U=2*(H+1)-1,Y=j[U],J=U+1,K=j[J];if(0>s(Y,I))J<G&&0>s(K,Y)?(j[H]=K,j[J]=I,H=J):(j[H]=Y,j[U]=I,H=U);else if(J<G&&0>s(K,I))j[H]=K,j[J]=I,H=J;else break e}}return P}function s(j,P){var I=j.sortIndex-P.sortIndex;return I!==0?I:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,v=!1,x=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=j)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function w(j){if(b=!1,g(j),!x)if(r(c)!==null)x=!0,A(S);else{var P=r(u);P!==null&&F(w,P.startTime-j)}}function S(j,P){x=!1,b&&(b=!1,p(_),_=-1),v=!0;var I=m;try{for(g(P),h=r(c);h!==null&&(!(h.expirationTime>P)||j&&!T());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var G=H(h.expirationTime<=P);P=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(c)&&n(c),g(P)}else n(c);h=r(c)}if(h!==null)var z=!0;else{var U=r(u);U!==null&&F(w,U.startTime-P),z=!1}return z}finally{h=null,m=I,v=!1}}var k=!1,N=null,_=-1,L=5,$=-1;function T(){return!(e.unstable_now()-$<L)}function D(){if(N!==null){var j=e.unstable_now();$=j;var P=!0;try{P=N(!0,j)}finally{P?q():(k=!1,N=null)}}else k=!1}var q;if(typeof f=="function")q=function(){f(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,E=O.port2;O.port1.onmessage=D,q=function(){E.postMessage(null)}}else q=function(){C(D,0)};function A(j){N=j,k||(k=!0,q())}function F(j,P){_=C(function(){j(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,A(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var I=m;m=P;try{return j()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=m;m=j;try{return P()}finally{m=I}},e.unstable_scheduleCallback=function(j,P,I){var H=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,j={id:d++,callback:P,priorityLevel:j,startTime:I,expirationTime:G,sortIndex:-1},I>H?(j.sortIndex=I,t(u,j),r(c)===null&&j===r(u)&&(b?(p(_),_=-1):b=!0,F(w,I-H))):(j.sortIndex=G,t(c,j),x||v||(x=!0,A(S))),j},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(j){var P=m;return function(){var I=m;m=P;try{return j.apply(this,arguments)}finally{m=I}}}})(ad);id.exports=ad;var Om=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=y,Je=Om;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,es={};function Tr(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(es[e]=t,e=0;e<t.length;e++)od.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=Object.prototype.hasOwnProperty,Rm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uc={},dc={};function Am(e){return Ka.call(dc,e)?!0:Ka.call(uc,e)?!1:Rm.test(e)?dc[e]=!0:(uc[e]=!0,!1)}function Im(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mm(e,t,r,n){if(t===null||typeof t>"u"||Im(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var il=/[\-:]([a-z])/g;function al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(il,al);Ce[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(il,al);Ce[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(il,al);Ce[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function ol(e,t,r,n){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mm(t,r,s,n)&&(r=null),n||s===null?Am(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mt=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ps=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),ll=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),cd=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),Ja=Symbol.for("react.suspense"),Qa=Symbol.for("react.suspense_list"),ul=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),ud=Symbol.for("react.offscreen"),hc=Symbol.iterator;function kn(e){return e===null||typeof e!="object"?null:(e=hc&&e[hc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,pa;function In(e){if(pa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pa=t&&t[1]||""}return`
`+pa+e}var ga=!1;function va(e,t){if(!e||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?In(e):""}function Dm(e){switch(e.tag){case 5:return In(e.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 2:case 15:return e=va(e.type,!1),e;case 11:return e=va(e.type.render,!1),e;case 1:return e=va(e.type,!0),e;default:return""}}function Xa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Fr:return"Portal";case Ya:return"Profiler";case ll:return"StrictMode";case Ja:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cd:return(e.displayName||"Context")+".Consumer";case ld:return(e._context.displayName||"Context")+".Provider";case cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ul:return t=e.displayName||null,t!==null?t:Xa(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return Xa(e(t))}catch{}}return null}function zm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(t);case 8:return t===ll?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fm(e){var t=dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ts(e){e._valueTracker||(e._valueTracker=Fm(e))}function hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Za(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=or(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&ol(e,"checked",t,!1)}function eo(e,t){fd(e,t);var r=or(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,r):t.hasOwnProperty("defaultValue")&&to(e,t.type,or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function to(e,t,r){(t!=="number"||li(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mn=Array.isArray;function Xr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+or(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(M(92));if(Mn(r)){if(1<r.length)throw Error(M(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:or(r)}}function md(e,t){var r=or(t.value),n=or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Um=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(e){Um.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Un[t]=Un[e]})});function vd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Un.hasOwnProperty(e)&&Un[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Bm=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(Bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oo=null,Zr=null,en=null;function vc(e){if(e=_s(e)){if(typeof oo!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Hi(t),oo(e.stateNode,e.type,t))}}function xd(e){Zr?en?en.push(e):en=[e]:Zr=e}function wd(){if(Zr){var e=Zr,t=en;if(en=Zr=null,vc(e),t)for(e=0;e<t.length;e++)vc(t[e])}}function bd(e,t){return e(t)}function jd(){}var ya=!1;function _d(e,t,r){if(ya)return e(t,r);ya=!0;try{return bd(e,t,r)}finally{ya=!1,(Zr!==null||en!==null)&&(jd(),wd())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=Hi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(M(231,t,typeof r));return r}var lo=!1;if(Lt)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{lo=!1}function Vm(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,ci=null,ui=!1,co=null,Hm={onError:function(e){Bn=!0,ci=e}};function qm(e,t,r,n,s,i,o,l,c){Bn=!1,ci=null,Vm.apply(Hm,arguments)}function Wm(e,t,r,n,s,i,o,l,c){if(qm.apply(this,arguments),Bn){if(Bn){var u=ci;Bn=!1,ci=null}else throw Error(M(198));ui||(ui=!0,co=u)}}function $r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Nd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yc(e){if($r(e)!==e)throw Error(M(188))}function Gm(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(M(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return yc(s),e;if(i===n)return yc(s),t;i=i.sibling}throw Error(M(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?e:t}function Sd(e){return e=Gm(e),e!==null?kd(e):null}function kd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kd(e);if(t!==null)return t;e=e.sibling}return null}var Cd=Je.unstable_scheduleCallback,xc=Je.unstable_cancelCallback,Km=Je.unstable_shouldYield,Ym=Je.unstable_requestPaint,ve=Je.unstable_now,Jm=Je.unstable_getCurrentPriorityLevel,hl=Je.unstable_ImmediatePriority,Ed=Je.unstable_UserBlockingPriority,di=Je.unstable_NormalPriority,Qm=Je.unstable_LowPriority,Pd=Je.unstable_IdlePriority,Fi=null,bt=null;function Xm(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Fi,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:t0,Zm=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(Zm(e)/e0|0)|0}var Os=64,Ls=4194304;function Dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Dn(l):(i&=o,i!==0&&(n=Dn(i)))}else o=r&~s,o!==0?n=Dn(o):i!==0&&(n=Dn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ft(t),s=1<<r,n|=e[r],t&=~s;return n}function r0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ft(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=r0(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function uo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Td(){var e=Os;return Os<<=1,!(Os&4194240)&&(Os=64),e}function xa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function s0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ft(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function fl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ft(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var te=0;function $d(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,ml,Ld,Rd,Ad,ho=!1,Rs=[],Qt=null,Xt=null,Zt=null,ns=new Map,ss=new Map,qt=[],i0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wc(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function En(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=_s(t),t!==null&&ml(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function a0(e,t,r,n,s){switch(t){case"focusin":return Qt=En(Qt,e,t,r,n,s),!0;case"dragenter":return Xt=En(Xt,e,t,r,n,s),!0;case"mouseover":return Zt=En(Zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ns.set(i,En(ns.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ss.set(i,En(ss.get(i)||null,e,t,r,n,s)),!0}return!1}function Id(e){var t=wr(e.target);if(t!==null){var r=$r(t);if(r!==null){if(t=r.tag,t===13){if(t=Nd(r),t!==null){e.blockedOn=t,Ad(e.priority,function(){Ld(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ao=n,r.target.dispatchEvent(n),ao=null}else return t=_s(r),t!==null&&ml(t),e.blockedOn=r,!1;t.shift()}return!0}function bc(e,t,r){Qs(e)&&r.delete(t)}function o0(){ho=!1,Qt!==null&&Qs(Qt)&&(Qt=null),Xt!==null&&Qs(Xt)&&(Xt=null),Zt!==null&&Qs(Zt)&&(Zt=null),ns.forEach(bc),ss.forEach(bc)}function Pn(e,t){e.blockedOn===t&&(e.blockedOn=null,ho||(ho=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,o0)))}function is(e){function t(s){return Pn(s,e)}if(0<Rs.length){Pn(Rs[0],e);for(var r=1;r<Rs.length;r++){var n=Rs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qt!==null&&Pn(Qt,e),Xt!==null&&Pn(Xt,e),Zt!==null&&Pn(Zt,e),ns.forEach(t),ss.forEach(t),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)Id(r),r.blockedOn===null&&qt.shift()}var tn=Mt.ReactCurrentBatchConfig,fi=!0;function l0(e,t,r,n){var s=te,i=tn.transition;tn.transition=null;try{te=1,pl(e,t,r,n)}finally{te=s,tn.transition=i}}function c0(e,t,r,n){var s=te,i=tn.transition;tn.transition=null;try{te=4,pl(e,t,r,n)}finally{te=s,tn.transition=i}}function pl(e,t,r,n){if(fi){var s=fo(e,t,r,n);if(s===null)Pa(e,t,n,mi,r),wc(e,n);else if(a0(s,e,t,r,n))n.stopPropagation();else if(wc(e,n),t&4&&-1<i0.indexOf(e)){for(;s!==null;){var i=_s(s);if(i!==null&&Od(i),i=fo(e,t,r,n),i===null&&Pa(e,t,n,mi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Pa(e,t,n,null,r)}}var mi=null;function fo(e,t,r,n){if(mi=null,e=dl(n),e=wr(e),e!==null)if(t=$r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Nd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mi=e,null}function Md(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jm()){case hl:return 1;case Ed:return 4;case di:case Qm:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var Kt=null,gl=null,Xs=null;function Dd(){if(Xs)return Xs;var e,t=gl,r=t.length,n,s="value"in Kt?Kt.value:Kt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Xs=s.slice(e,1<n?1-n:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function jc(){return!1}function Ze(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:jc,this.isPropagationStopped=jc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Ze(xn),js=me({},xn,{view:0,detail:0}),u0=Ze(js),wa,ba,Tn,Ui=me({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(wa=e.screenX-Tn.screenX,ba=e.screenY-Tn.screenY):ba=wa=0,Tn=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),_c=Ze(Ui),d0=me({},Ui,{dataTransfer:0}),h0=Ze(d0),f0=me({},js,{relatedTarget:0}),ja=Ze(f0),m0=me({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),p0=Ze(m0),g0=me({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v0=Ze(g0),y0=me({},xn,{data:0}),Nc=Ze(y0),x0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b0[e])?!!t[e]:!1}function yl(){return j0}var _0=me({},js,{key:function(e){if(e.key){var t=x0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=Ze(_0),S0=me({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=Ze(S0),k0=me({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),C0=Ze(k0),E0=me({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=Ze(E0),T0=me({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=Ze(T0),O0=[9,13,27,32],xl=Lt&&"CompositionEvent"in window,Vn=null;Lt&&"documentMode"in document&&(Vn=document.documentMode);var L0=Lt&&"TextEvent"in window&&!Vn,zd=Lt&&(!xl||Vn&&8<Vn&&11>=Vn),kc=" ",Cc=!1;function Fd(e,t){switch(e){case"keyup":return O0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function R0(e,t){switch(e){case"compositionend":return Ud(t);case"keypress":return t.which!==32?null:(Cc=!0,kc);case"textInput":return e=t.data,e===kc&&Cc?null:e;default:return null}}function A0(e,t){if(Br)return e==="compositionend"||!xl&&Fd(e,t)?(e=Dd(),Xs=gl=Kt=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!I0[e.type]:t==="textarea"}function Bd(e,t,r,n){xd(n),t=pi(t,"onChange"),0<t.length&&(r=new vl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hn=null,as=null;function M0(e){Zd(e,0)}function Bi(e){var t=qr(e);if(hd(t))return e}function D0(e,t){if(e==="change")return t}var Vd=!1;if(Lt){var _a;if(Lt){var Na="oninput"in document;if(!Na){var Pc=document.createElement("div");Pc.setAttribute("oninput","return;"),Na=typeof Pc.oninput=="function"}_a=Na}else _a=!1;Vd=_a&&(!document.documentMode||9<document.documentMode)}function Tc(){Hn&&(Hn.detachEvent("onpropertychange",Hd),as=Hn=null)}function Hd(e){if(e.propertyName==="value"&&Bi(as)){var t=[];Bd(t,as,e,dl(e)),_d(M0,t)}}function z0(e,t,r){e==="focusin"?(Tc(),Hn=t,as=r,Hn.attachEvent("onpropertychange",Hd)):e==="focusout"&&Tc()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(as)}function U0(e,t){if(e==="click")return Bi(t)}function B0(e,t){if(e==="input"||e==="change")return Bi(t)}function V0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:V0;function os(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ka.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oc(e,t){var r=$c(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$c(r)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(){for(var e=window,t=li();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=li(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H0(e){var t=Wd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qd(r.ownerDocument.documentElement,r)){if(n!==null&&wl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Oc(r,i);var o=Oc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q0=Lt&&"documentMode"in document&&11>=document.documentMode,Vr=null,mo=null,qn=null,po=!1;function Lc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;po||Vr==null||Vr!==li(n)||(n=Vr,"selectionStart"in n&&wl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&os(qn,n)||(qn=n,n=pi(mo,"onSelect"),0<n.length&&(t=new vl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vr)))}function Is(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hr={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},Sa={},Gd={};Lt&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Vi(e){if(Sa[e])return Sa[e];if(!Hr[e])return e;var t=Hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gd)return Sa[e]=t[r];return e}var Kd=Vi("animationend"),Yd=Vi("animationiteration"),Jd=Vi("animationstart"),Qd=Vi("transitionend"),Xd=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){Xd.set(e,t),Tr(t,[e])}for(var ka=0;ka<Rc.length;ka++){var Ca=Rc[ka],W0=Ca.toLowerCase(),G0=Ca[0].toUpperCase()+Ca.slice(1);cr(W0,"on"+G0)}cr(Kd,"onAnimationEnd");cr(Yd,"onAnimationIteration");cr(Jd,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Qd,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Ac(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Wm(n,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ac(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ac(s,l,u),i=c}}}if(ui)throw e=co,ui=!1,co=null,e}function ae(e,t){var r=t[wo];r===void 0&&(r=t[wo]=new Set);var n=e+"__bubble";r.has(n)||(eh(t,e,2,!1),r.add(n))}function Ea(e,t,r){var n=0;t&&(n|=4),eh(r,e,n,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function ls(e){if(!e[Ms]){e[Ms]=!0,od.forEach(function(r){r!=="selectionchange"&&(K0.has(r)||Ea(r,!1,e),Ea(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,Ea("selectionchange",!1,t))}}function eh(e,t,r,n){switch(Md(t)){case 1:var s=l0;break;case 4:s=c0;break;default:s=pl}r=s.bind(null,t,r,e),s=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pa(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}_d(function(){var u=i,d=dl(r),h=[];e:{var m=Xd.get(e);if(m!==void 0){var v=vl,x=e;switch(e){case"keypress":if(Zs(r)===0)break e;case"keydown":case"keyup":v=N0;break;case"focusin":x="focus",v=ja;break;case"focusout":x="blur",v=ja;break;case"beforeblur":case"afterblur":v=ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=C0;break;case Kd:case Yd:case Jd:v=p0;break;case Qd:v=P0;break;case"scroll":v=u0;break;case"wheel":v=$0;break;case"copy":case"cut":case"paste":v=v0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sc}var b=(t&4)!==0,C=!b&&e==="scroll",p=b?m!==null?m+"Capture":null:m;b=[];for(var f=u,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=rs(f,p),w!=null&&b.push(cs(f,w,g)))),C)break;f=f.return}0<b.length&&(m=new v(m,x,null,r,d),h.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==ao&&(x=r.relatedTarget||r.fromElement)&&(wr(x)||x[Rt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=u,x=x?wr(x):null,x!==null&&(C=$r(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(b=_c,w="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=Sc,w="onPointerLeave",p="onPointerEnter",f="pointer"),C=v==null?m:qr(v),g=x==null?m:qr(x),m=new b(w,f+"leave",v,r,d),m.target=C,m.relatedTarget=g,w=null,wr(d)===u&&(b=new b(p,f+"enter",x,r,d),b.target=g,b.relatedTarget=C,w=b),C=w,v&&x)t:{for(b=v,p=x,f=0,g=b;g;g=Ar(g))f++;for(g=0,w=p;w;w=Ar(w))g++;for(;0<f-g;)b=Ar(b),f--;for(;0<g-f;)p=Ar(p),g--;for(;f--;){if(b===p||p!==null&&b===p.alternate)break t;b=Ar(b),p=Ar(p)}b=null}else b=null;v!==null&&Ic(h,m,v,b,!1),x!==null&&C!==null&&Ic(h,C,x,b,!0)}}e:{if(m=u?qr(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=D0;else if(Ec(m))if(Vd)S=B0;else{S=F0;var k=z0}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=U0);if(S&&(S=S(e,u))){Bd(h,S,r,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&to(m,"number",m.value)}switch(k=u?qr(u):window,e){case"focusin":(Ec(k)||k.contentEditable==="true")&&(Vr=k,mo=u,qn=null);break;case"focusout":qn=mo=Vr=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,Lc(h,r,d);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":Lc(h,r,d)}var N;if(xl)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Br?Fd(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(zd&&r.locale!=="ko"&&(Br||_!=="onCompositionStart"?_==="onCompositionEnd"&&Br&&(N=Dd()):(Kt=d,gl="value"in Kt?Kt.value:Kt.textContent,Br=!0)),k=pi(u,_),0<k.length&&(_=new Nc(_,e,null,r,d),h.push({event:_,listeners:k}),N?_.data=N:(N=Ud(r),N!==null&&(_.data=N)))),(N=L0?R0(e,r):A0(e,r))&&(u=pi(u,"onBeforeInput"),0<u.length&&(d=new Nc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}Zd(h,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rs(e,r),i!=null&&n.unshift(cs(e,i,s)),i=rs(e,t),i!=null&&n.push(cs(e,i,s))),e=e.return}return n}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=rs(r,i),c!=null&&o.unshift(cs(r,c,l))):s||(c=rs(r,i),c!=null&&o.push(cs(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Y0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(Y0,`
`).replace(J0,"")}function Ds(e,t,r){if(t=Mc(t),Mc(e)!==t&&r)throw Error(M(425))}function gi(){}var go=null,vo=null;function yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xo=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,Dc=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof Dc<"u"?function(e){return Dc.resolve(null).then(e).catch(Z0)}:xo;function Z0(e){setTimeout(function(){throw e})}function Ta(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),wt="__reactFiber$"+wn,us="__reactProps$"+wn,Rt="__reactContainer$"+wn,wo="__reactEvents$"+wn,ep="__reactListeners$"+wn,tp="__reactHandles$"+wn;function wr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rt]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zc(e);e!==null;){if(r=e[wt])return r;e=zc(e)}return t}e=r,r=e.parentNode}return null}function _s(e){return e=e[wt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Hi(e){return e[us]||null}var bo=[],Wr=-1;function ur(e){return{current:e}}function oe(e){0>Wr||(e.current=bo[Wr],bo[Wr]=null,Wr--)}function ie(e,t){Wr++,bo[Wr]=e.current,e.current=t}var lr={},$e=ur(lr),Fe=ur(!1),Sr=lr;function ln(e,t){var r=e.type.contextTypes;if(!r)return lr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function vi(){oe(Fe),oe($e)}function Fc(e,t,r){if($e.current!==lr)throw Error(M(168));ie($e,t),ie(Fe,r)}function th(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(M(108,zm(e)||"Unknown",s));return me({},r,n)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Sr=$e.current,ie($e,e),ie(Fe,Fe.current),!0}function Uc(e,t,r){var n=e.stateNode;if(!n)throw Error(M(169));r?(e=th(e,t,Sr),n.__reactInternalMemoizedMergedChildContext=e,oe(Fe),oe($e),ie($e,e)):oe(Fe),ie(Fe,r)}var Et=null,qi=!1,$a=!1;function rh(e){Et===null?Et=[e]:Et.push(e)}function rp(e){qi=!0,rh(e)}function dr(){if(!$a&&Et!==null){$a=!0;var e=0,t=te;try{var r=Et;for(te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Et=null,qi=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Cd(hl,dr),s}finally{te=t,$a=!1}}return null}var Gr=[],Kr=0,xi=null,wi=0,rt=[],nt=0,kr=null,Pt=1,Tt="";function pr(e,t){Gr[Kr++]=wi,Gr[Kr++]=xi,xi=e,wi=t}function nh(e,t,r){rt[nt++]=Pt,rt[nt++]=Tt,rt[nt++]=kr,kr=e;var n=Pt;e=Tt;var s=32-ft(n)-1;n&=~(1<<s),r+=1;var i=32-ft(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Pt=1<<32-ft(t)+s|r<<s|n,Tt=i+e}else Pt=1<<i|r<<s|n,Tt=e}function bl(e){e.return!==null&&(pr(e,1),nh(e,1,0))}function jl(e){for(;e===xi;)xi=Gr[--Kr],Gr[Kr]=null,wi=Gr[--Kr],Gr[Kr]=null;for(;e===kr;)kr=rt[--nt],rt[nt]=null,Tt=rt[--nt],rt[nt]=null,Pt=rt[--nt],rt[nt]=null}var Ye=null,Ke=null,ce=!1,ht=null;function sh(e,t){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=kr!==null?{id:Pt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ye=e,Ke=null,!0):!1;default:return!1}}function jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _o(e){if(ce){var t=Ke;if(t){var r=t;if(!Bc(e,t)){if(jo(e))throw Error(M(418));t=er(r.nextSibling);var n=Ye;t&&Bc(e,t)?sh(n,r):(e.flags=e.flags&-4097|2,ce=!1,Ye=e)}}else{if(jo(e))throw Error(M(418));e.flags=e.flags&-4097|2,ce=!1,Ye=e}}}function Vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function zs(e){if(e!==Ye)return!1;if(!ce)return Vc(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yo(e.type,e.memoizedProps)),t&&(t=Ke)){if(jo(e))throw ih(),Error(M(418));for(;t;)sh(e,t),t=er(t.nextSibling)}if(Vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ye?er(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=Ke;e;)e=er(e.nextSibling)}function cn(){Ke=Ye=null,ce=!1}function _l(e){ht===null?ht=[e]:ht.push(e)}var np=Mt.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hc(e){var t=e._init;return t(e._payload)}function ah(e){function t(p,f){if(e){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=sr(p,f),p.index=0,p.sibling=null,p}function i(p,f,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,g,w){return f===null||f.tag!==6?(f=Da(g,p.mode,w),f.return=p,f):(f=s(f,g),f.return=p,f)}function c(p,f,g,w){var S=g.type;return S===Ur?d(p,f,g.props.children,w,g.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bt&&Hc(S)===f.type)?(w=s(f,g.props),w.ref=$n(p,f,g),w.return=p,w):(w=ai(g.type,g.key,g.props,null,p.mode,w),w.ref=$n(p,f,g),w.return=p,w)}function u(p,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=za(g,p.mode,w),f.return=p,f):(f=s(f,g.children||[]),f.return=p,f)}function d(p,f,g,w,S){return f===null||f.tag!==7?(f=Nr(g,p.mode,w,S),f.return=p,f):(f=s(f,g),f.return=p,f)}function h(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Da(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ps:return g=ai(f.type,f.key,f.props,null,p.mode,g),g.ref=$n(p,null,f),g.return=p,g;case Fr:return f=za(f,p.mode,g),f.return=p,f;case Bt:var w=f._init;return h(p,w(f._payload),g)}if(Mn(f)||kn(f))return f=Nr(f,p.mode,g,null),f.return=p,f;Fs(p,f)}return null}function m(p,f,g,w){var S=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(p,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ps:return g.key===S?c(p,f,g,w):null;case Fr:return g.key===S?u(p,f,g,w):null;case Bt:return S=g._init,m(p,f,S(g._payload),w)}if(Mn(g)||kn(g))return S!==null?null:d(p,f,g,w,null);Fs(p,g)}return null}function v(p,f,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,l(f,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ps:return p=p.get(w.key===null?g:w.key)||null,c(f,p,w,S);case Fr:return p=p.get(w.key===null?g:w.key)||null,u(f,p,w,S);case Bt:var k=w._init;return v(p,f,g,k(w._payload),S)}if(Mn(w)||kn(w))return p=p.get(g)||null,d(f,p,w,S,null);Fs(f,w)}return null}function x(p,f,g,w){for(var S=null,k=null,N=f,_=f=0,L=null;N!==null&&_<g.length;_++){N.index>_?(L=N,N=null):L=N.sibling;var $=m(p,N,g[_],w);if($===null){N===null&&(N=L);break}e&&N&&$.alternate===null&&t(p,N),f=i($,f,_),k===null?S=$:k.sibling=$,k=$,N=L}if(_===g.length)return r(p,N),ce&&pr(p,_),S;if(N===null){for(;_<g.length;_++)N=h(p,g[_],w),N!==null&&(f=i(N,f,_),k===null?S=N:k.sibling=N,k=N);return ce&&pr(p,_),S}for(N=n(p,N);_<g.length;_++)L=v(N,p,_,g[_],w),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?_:L.key),f=i(L,f,_),k===null?S=L:k.sibling=L,k=L);return e&&N.forEach(function(T){return t(p,T)}),ce&&pr(p,_),S}function b(p,f,g,w){var S=kn(g);if(typeof S!="function")throw Error(M(150));if(g=S.call(g),g==null)throw Error(M(151));for(var k=S=null,N=f,_=f=0,L=null,$=g.next();N!==null&&!$.done;_++,$=g.next()){N.index>_?(L=N,N=null):L=N.sibling;var T=m(p,N,$.value,w);if(T===null){N===null&&(N=L);break}e&&N&&T.alternate===null&&t(p,N),f=i(T,f,_),k===null?S=T:k.sibling=T,k=T,N=L}if($.done)return r(p,N),ce&&pr(p,_),S;if(N===null){for(;!$.done;_++,$=g.next())$=h(p,$.value,w),$!==null&&(f=i($,f,_),k===null?S=$:k.sibling=$,k=$);return ce&&pr(p,_),S}for(N=n(p,N);!$.done;_++,$=g.next())$=v(N,p,_,$.value,w),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?_:$.key),f=i($,f,_),k===null?S=$:k.sibling=$,k=$);return e&&N.forEach(function(D){return t(p,D)}),ce&&pr(p,_),S}function C(p,f,g,w){if(typeof g=="object"&&g!==null&&g.type===Ur&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ps:e:{for(var S=g.key,k=f;k!==null;){if(k.key===S){if(S=g.type,S===Ur){if(k.tag===7){r(p,k.sibling),f=s(k,g.props.children),f.return=p,p=f;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bt&&Hc(S)===k.type){r(p,k.sibling),f=s(k,g.props),f.ref=$n(p,k,g),f.return=p,p=f;break e}r(p,k);break}else t(p,k);k=k.sibling}g.type===Ur?(f=Nr(g.props.children,p.mode,w,g.key),f.return=p,p=f):(w=ai(g.type,g.key,g.props,null,p.mode,w),w.ref=$n(p,f,g),w.return=p,p=w)}return o(p);case Fr:e:{for(k=g.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(p,f.sibling),f=s(f,g.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=za(g,p.mode,w),f.return=p,p=f}return o(p);case Bt:return k=g._init,C(p,f,k(g._payload),w)}if(Mn(g))return x(p,f,g,w);if(kn(g))return b(p,f,g,w);Fs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,g),f.return=p,p=f):(r(p,f),f=Da(g,p.mode,w),f.return=p,p=f),o(p)):r(p,f)}return C}var un=ah(!0),oh=ah(!1),bi=ur(null),ji=null,Yr=null,Nl=null;function Sl(){Nl=Yr=ji=null}function kl(e){var t=bi.current;oe(bi),e._currentValue=t}function No(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rn(e,t){ji=e,Nl=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(ji===null)throw Error(M(308));Yr=e,ji.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var br=null;function Cl(e){br===null?br=[e]:br.push(e)}function lh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Cl(t)):(r.next=s.next,s.next=r),t.interleaved=r,At(e,n)}function At(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,At(e,r)}return s=n.interleaved,s===null?(t.next=t,Cl(n)):(t.next=s.next,s.next=t),n.interleaved=t,At(e,r)}function ei(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fl(e,r)}}function qc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _i(e,t,r,n){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,b=l;switch(m=t,v=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(v,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,m=typeof x=="function"?x.call(v,h,m):x,m==null)break e;h=me({},h,m);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Er|=o,e.lanes=o,e.memoizedState=h}}function Wc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(M(191,s));s.call(n)}}}var Ns={},jt=ur(Ns),ds=ur(Ns),hs=ur(Ns);function jr(e){if(e===Ns)throw Error(M(174));return e}function Pl(e,t){switch(ie(hs,t),ie(ds,e),ie(jt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:no(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=no(t,e)}oe(jt),ie(jt,t)}function dn(){oe(jt),oe(ds),oe(hs)}function uh(e){jr(hs.current);var t=jr(jt.current),r=no(t,e.type);t!==r&&(ie(ds,e),ie(jt,r))}function Tl(e){ds.current===e&&(oe(jt),oe(ds))}var ue=ur(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=[];function $l(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var ti=Mt.ReactCurrentDispatcher,La=Mt.ReactCurrentBatchConfig,Cr=0,he=null,we=null,_e=null,Si=!1,Wn=!1,fs=0,sp=0;function Ee(){throw Error(M(321))}function Ol(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pt(e[r],t[r]))return!1;return!0}function Ll(e,t,r,n,s,i){if(Cr=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?lp:cp,e=r(n,s),Wn){i=0;do{if(Wn=!1,fs=0,25<=i)throw Error(M(301));i+=1,_e=we=null,t.updateQueue=null,ti.current=up,e=r(n,s)}while(Wn)}if(ti.current=ki,t=we!==null&&we.next!==null,Cr=0,_e=we=he=null,Si=!1,t)throw Error(M(300));return e}function Rl(){var e=fs!==0;return fs=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?he.memoizedState=_e=e:_e=_e.next=e,_e}function ot(){if(we===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=_e===null?he.memoizedState:_e.next;if(t!==null)_e=t,we=e;else{if(e===null)throw Error(M(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},_e===null?he.memoizedState=_e=e:_e=_e.next=e}return _e}function ms(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=ot(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=we,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Cr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,he.lanes|=d,Er|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,pt(n,t.memoizedState)||(ze=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Er|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Aa(e){var t=ot(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function dh(){}function hh(e,t){var r=he,n=ot(),s=t(),i=!pt(n.memoizedState,s);if(i&&(n.memoizedState=s,ze=!0),n=n.queue,Al(ph.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,ps(9,mh.bind(null,r,n,s,t),void 0,null),Ne===null)throw Error(M(349));Cr&30||fh(r,t,s)}return s}function fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mh(e,t,r,n){t.value=r,t.getSnapshot=n,gh(t)&&vh(e)}function ph(e,t,r){return r(function(){gh(t)&&vh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pt(e,r)}catch{return!0}}function vh(e){var t=At(e,1);t!==null&&mt(t,e,1,-1)}function Gc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=op.bind(null,he,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yh(){return ot().memoizedState}function ri(e,t,r,n){var s=xt();he.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Wi(e,t,r,n){var s=ot();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Ol(n,o.deps)){s.memoizedState=ps(t,r,i,n);return}}he.flags|=e,s.memoizedState=ps(1|t,r,i,n)}function Kc(e,t){return ri(8390656,8,e,t)}function Al(e,t){return Wi(2048,8,e,t)}function xh(e,t){return Wi(4,2,e,t)}function wh(e,t){return Wi(4,4,e,t)}function bh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jh(e,t,r){return r=r!=null?r.concat([e]):null,Wi(4,4,bh.bind(null,t,e),r)}function Il(){}function _h(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Nh(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ol(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Sh(e,t,r){return Cr&21?(pt(r,t)||(r=Td(),he.lanes|=r,Er|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function ip(e,t){var r=te;te=r!==0&&4>r?r:4,e(!0);var n=La.transition;La.transition={};try{e(!1),t()}finally{te=r,La.transition=n}}function kh(){return ot().memoizedState}function ap(e,t,r){var n=nr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ch(e))Eh(t,r);else if(r=lh(e,t,r,n),r!==null){var s=Le();mt(r,e,n,s),Ph(r,t,n)}}function op(e,t,r){var n=nr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ch(e))Eh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,pt(l,o)){var c=t.interleaved;c===null?(s.next=s,Cl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=lh(e,t,s,n),r!==null&&(s=Le(),mt(r,e,n,s),Ph(r,t,n))}}function Ch(e){var t=e.alternate;return e===he||t!==null&&t===he}function Eh(e,t){Wn=Si=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ph(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fl(e,r)}}var ki={readContext:at,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},lp={readContext:at,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Kc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ri(4194308,4,bh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var r=xt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ap.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Gc,useDebugValue:Il,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Gc(!1),t=e[0];return e=ip.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=xt();if(ce){if(r===void 0)throw Error(M(407));r=r()}else{if(r=t(),Ne===null)throw Error(M(349));Cr&30||fh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Kc(ph.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,mh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xt(),t=Ne.identifierPrefix;if(ce){var r=Tt,n=Pt;r=(n&~(1<<32-ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cp={readContext:at,useCallback:_h,useContext:at,useEffect:Al,useImperativeHandle:jh,useInsertionEffect:xh,useLayoutEffect:wh,useMemo:Nh,useReducer:Ra,useRef:yh,useState:function(){return Ra(ms)},useDebugValue:Il,useDeferredValue:function(e){var t=ot();return Sh(t,we.memoizedState,e)},useTransition:function(){var e=Ra(ms)[0],t=ot().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:kh,unstable_isNewReconciler:!1},up={readContext:at,useCallback:_h,useContext:at,useEffect:Al,useImperativeHandle:jh,useInsertionEffect:xh,useLayoutEffect:wh,useMemo:Nh,useReducer:Aa,useRef:yh,useState:function(){return Aa(ms)},useDebugValue:Il,useDeferredValue:function(e){var t=ot();return we===null?t.memoizedState=e:Sh(t,we.memoizedState,e)},useTransition:function(){var e=Aa(ms)[0],t=ot().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:kh,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function So(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gi={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Le(),s=nr(e),i=Ot(n,s);i.payload=t,r!=null&&(i.callback=r),t=tr(e,i,s),t!==null&&(mt(t,e,s,n),ei(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Le(),s=nr(e),i=Ot(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tr(e,i,s),t!==null&&(mt(t,e,s,n),ei(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Le(),n=nr(e),s=Ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=tr(e,s,n),t!==null&&(mt(t,e,n,r),ei(t,e,n))}};function Yc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!os(r,n)||!os(s,i):!0}function Th(e,t,r){var n=!1,s=lr,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(s=Ue(t)?Sr:$e.current,n=t.contextTypes,i=(n=n!=null)?ln(e,s):lr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function ko(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=at(i):(i=Ue(t)?Sr:$e.current,s.context=ln(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(So(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gi.enqueueReplaceState(s,s.state,null),_i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var r="",n=t;do r+=Dm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ia(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Co(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dp=typeof WeakMap=="function"?WeakMap:Map;function $h(e,t,r){r=Ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ei||(Ei=!0,Mo=n),Co(e,t)},r}function Oh(e,t,r){r=Ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Co(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Co(e,t),typeof n!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Qc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Sp.bind(null,e,t,r),t.then(e,e))}function Xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ot(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e)}var hp=Mt.ReactCurrentOwner,ze=!1;function Oe(e,t,r,n){t.child=e===null?oh(t,null,r,n):un(t,e.child,r,n)}function eu(e,t,r,n,s){r=r.render;var i=t.ref;return rn(t,s),n=Ll(e,t,r,n,i,s),r=Rl(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(ce&&r&&bl(t),t.flags|=1,Oe(e,t,n,s),t.child)}function tu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Lh(e,t,i,n,s)):(e=ai(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:os,r(o,n)&&e.ref===t.ref)return It(e,t,s)}return t.flags|=1,e=sr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Lh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(os(i,n)&&e.ref===t.ref)if(ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,It(e,t,s)}return Eo(e,t,r,n,s)}function Rh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Qr,Ge),Ge|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Qr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ie(Qr,Ge),Ge|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ie(Qr,Ge),Ge|=n;return Oe(e,t,s,r),t.child}function Ah(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,r,n,s){var i=Ue(r)?Sr:$e.current;return i=ln(t,i),rn(t,s),r=Ll(e,t,r,n,i,s),n=Rl(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(ce&&n&&bl(t),t.flags|=1,Oe(e,t,r,s),t.child)}function ru(e,t,r,n,s){if(Ue(r)){var i=!0;yi(t)}else i=!1;if(rn(t,s),t.stateNode===null)ni(e,t),Th(t,r,n),ko(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ue(r)?Sr:$e.current,u=ln(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Jc(t,o,n,u),Vt=!1;var m=t.memoizedState;o.state=m,_i(t,n,o,s),c=t.memoizedState,l!==n||m!==c||Fe.current||Vt?(typeof d=="function"&&(So(t,r,d,n),c=t.memoizedState),(l=Vt||Yc(t,r,l,n,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ch(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ct(t.type,l),o.props=u,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=at(c):(c=Ue(r)?Sr:$e.current,c=ln(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Jc(t,o,n,c),Vt=!1,m=t.memoizedState,o.state=m,_i(t,n,o,s);var x=t.memoizedState;l!==h||m!==x||Fe.current||Vt?(typeof v=="function"&&(So(t,r,v,n),x=t.memoizedState),(u=Vt||Yc(t,r,u,n,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Po(e,t,r,n,i,s)}function Po(e,t,r,n,s,i){Ah(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Uc(t,r,!1),It(e,t,i);n=t.stateNode,hp.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=un(t,e.child,null,i),t.child=un(t,null,l,i)):Oe(e,t,l,i),t.memoizedState=n.state,s&&Uc(t,r,!0),t.child}function Ih(e){var t=e.stateNode;t.pendingContext?Fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fc(e,t.context,!1),Pl(e,t.containerInfo)}function nu(e,t,r,n,s){return cn(),_l(s),t.flags|=256,Oe(e,t,r,n),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function $o(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mh(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ie(ue,s&1),e===null)return _o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ji(o,n,0,null),e=Nr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$o(r),t.memoizedState=To,e):Ml(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fp(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=sr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=sr(l,i):(i=Nr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?$o(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=To,n}return i=e.child,e=i.sibling,n=sr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ml(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Us(e,t,r,n){return n!==null&&_l(n),un(t,e.child,null,r),e=Ml(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fp(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ia(Error(M(422))),Us(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ji({mode:"visible",children:n.children},s,0,null),i=Nr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&un(t,e.child,null,o),t.child.memoizedState=$o(o),t.memoizedState=To,i);if(!(t.mode&1))return Us(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(M(419)),n=Ia(i,n,void 0),Us(e,t,o,n)}if(l=(o&e.childLanes)!==0,ze||l){if(n=Ne,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,At(e,s),mt(n,e,s,-1))}return Vl(),n=Ia(Error(M(421))),Us(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=er(s.nextSibling),Ye=t,ce=!0,ht=null,e!==null&&(rt[nt++]=Pt,rt[nt++]=Tt,rt[nt++]=kr,Pt=e.id,Tt=e.overflow,kr=t),t=Ml(t,n.children),t.flags|=4096,t)}function su(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),No(e.return,t,r)}function Ma(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Oe(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&su(e,r,t);else if(e.tag===19)su(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ni(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ma(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ni(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ma(t,!0,r,null,i);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,r=sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mp(e,t,r){switch(t.tag){case 3:Ih(t),cn();break;case 5:uh(t);break;case 1:Ue(t.type)&&yi(t);break;case 4:Pl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ie(bi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?Mh(e,t,r):(ie(ue,ue.current&1),e=It(e,t,r),e!==null?e.sibling:null);ie(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Rh(e,t,r)}return It(e,t,r)}var zh,Oo,Fh,Uh;zh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oo=function(){};Fh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,jr(jt.current);var i=null;switch(r){case"input":s=Za(e,s),n=Za(e,n),i=[];break;case"select":s=me({},s,{value:void 0}),n=me({},n,{value:void 0}),i=[];break;case"textarea":s=ro(e,s),n=ro(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gi)}so(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Uh=function(e,t,r,n){r!==n&&(t.flags|=4)};function On(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pp(e,t,r){var n=t.pendingProps;switch(jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Ue(t.type)&&vi(),Pe(t),null;case 3:return n=t.stateNode,dn(),oe(Fe),oe($e),$l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Fo(ht),ht=null))),Oo(e,t),Pe(t),null;case 5:Tl(t);var s=jr(hs.current);if(r=t.type,e!==null&&t.stateNode!=null)Fh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(M(166));return Pe(t),null}if(e=jr(jt.current),zs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wt]=t,n[us]=i,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(s=0;s<zn.length;s++)ae(zn[s],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":fc(n,i),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ae("invalid",n);break;case"textarea":pc(n,i),ae("invalid",n)}so(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ds(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ds(n.textContent,l,e),s=["children",""+l]):es.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",n)}switch(r){case"input":Ts(n),mc(n,i,!0);break;case"textarea":Ts(n),gc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wt]=t,e[us]=n,zh(e,t,!1,!1),t.stateNode=e;e:{switch(o=io(r,n),r){case"dialog":ae("cancel",e),ae("close",e),s=n;break;case"iframe":case"object":case"embed":ae("load",e),s=n;break;case"video":case"audio":for(s=0;s<zn.length;s++)ae(zn[s],e);s=n;break;case"source":ae("error",e),s=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=n;break;case"details":ae("toggle",e),s=n;break;case"input":fc(e,n),s=Za(e,n),ae("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=me({},n,{value:void 0}),ae("invalid",e);break;case"textarea":pc(e,n),s=ro(e,n),ae("invalid",e);break;default:s=n}so(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ts(e,c):typeof c=="number"&&ts(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(es.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",e):c!=null&&ol(e,i,c,o))}switch(r){case"input":Ts(e),mc(e,n,!1);break;case"textarea":Ts(e),gc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+or(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Xr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Xr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Uh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(M(166));if(r=jr(hs.current),jr(jt.current),zs(t)){if(n=t.stateNode,r=t.memoizedProps,n[wt]=t,(i=n.nodeValue!==r)&&(e=Ye,e!==null))switch(e.tag){case 3:Ds(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=t,t.stateNode=n}return Pe(t),null;case 13:if(oe(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ke!==null&&t.mode&1&&!(t.flags&128))ih(),cn(),t.flags|=98560,i=!1;else if(i=zs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[wt]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),i=!1}else ht!==null&&(Fo(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?be===0&&(be=3):Vl())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return dn(),Oo(e,t),e===null&&ls(t.stateNode.containerInfo),Pe(t),null;case 10:return kl(t.type._context),Pe(t),null;case 17:return Ue(t.type)&&vi(),Pe(t),null;case 19:if(oe(ue),i=t.memoizedState,i===null)return Pe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)On(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ni(e),o!==null){for(t.flags|=128,On(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ie(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>fn&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ni(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),On(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Pe(t),null}else 2*ve()-i.renderingStartTime>fn&&r!==1073741824&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,r=ue.current,ie(ue,n?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return Bl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function gp(e,t){switch(jl(t),t.tag){case 1:return Ue(t.type)&&vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),oe(Fe),oe($e),$l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tl(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return dn(),null;case 10:return kl(t.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var Bs=!1,Te=!1,vp=typeof WeakSet=="function"?WeakSet:Set,V=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ge(e,t,n)}else r.current=null}function Lo(e,t,r){try{r()}catch(n){ge(e,t,n)}}var iu=!1;function yp(e,t){if(go=fi,e=Wd(),wl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vo={focusedElem:e,selectionRange:r},fi=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,C=x.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:ct(t.type,b),C);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(w){ge(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=iu,iu=!1,x}function Gn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lo(t,r,i)}s=s.next}while(s!==n)}}function Ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ro(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[us],delete t[wo],delete t[ep],delete t[tp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gi));else if(n!==4&&(e=e.child,e!==null))for(Ao(e,t,r),e=e.sibling;e!==null;)Ao(e,t,r),e=e.sibling}function Io(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Io(e,t,r),e=e.sibling;e!==null;)Io(e,t,r),e=e.sibling}var Se=null,ut=!1;function zt(e,t,r){for(r=r.child;r!==null;)Hh(e,t,r),r=r.sibling}function Hh(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Fi,r)}catch{}switch(r.tag){case 5:Te||Jr(r,t);case 6:var n=Se,s=ut;Se=null,zt(e,t,r),Se=n,ut=s,Se!==null&&(ut?(e=Se,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(ut?(e=Se,r=r.stateNode,e.nodeType===8?Ta(e.parentNode,r):e.nodeType===1&&Ta(e,r),is(e)):Ta(Se,r.stateNode));break;case 4:n=Se,s=ut,Se=r.stateNode.containerInfo,ut=!0,zt(e,t,r),Se=n,ut=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lo(r,t,o),s=s.next}while(s!==n)}zt(e,t,r);break;case 1:if(!Te&&(Jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ge(r,t,l)}zt(e,t,r);break;case 21:zt(e,t,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,zt(e,t,r),Te=n):zt(e,t,r);break;default:zt(e,t,r)}}function ou(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vp),t.forEach(function(n){var s=Cp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,ut=!1;break e;case 3:Se=l.stateNode.containerInfo,ut=!0;break e;case 4:Se=l.stateNode.containerInfo,ut=!0;break e}l=l.return}if(Se===null)throw Error(M(160));Hh(i,o,s),Se=null,ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qh(t,e),t=t.sibling}function qh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),vt(e),n&4){try{Gn(3,e,e.return),Ki(3,e)}catch(b){ge(e,e.return,b)}try{Gn(5,e,e.return)}catch(b){ge(e,e.return,b)}}break;case 1:lt(t,e),vt(e),n&512&&r!==null&&Jr(r,r.return);break;case 5:if(lt(t,e),vt(e),n&512&&r!==null&&Jr(r,r.return),e.flags&32){var s=e.stateNode;try{ts(s,"")}catch(b){ge(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fd(s,i),io(l,o);var u=io(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?yd(s,h):d==="dangerouslySetInnerHTML"?gd(s,h):d==="children"?ts(s,h):ol(s,d,h,u)}switch(l){case"input":eo(s,i);break;case"textarea":md(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Xr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Xr(s,!!i.multiple,i.defaultValue,!0):Xr(s,!!i.multiple,i.multiple?[]:"",!1))}s[us]=i}catch(b){ge(e,e.return,b)}}break;case 6:if(lt(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){ge(e,e.return,b)}}break;case 3:if(lt(t,e),vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(b){ge(e,e.return,b)}break;case 4:lt(t,e),vt(e);break;case 13:lt(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fl=ve())),n&4&&ou(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(u=Te)||d,lt(t,e),Te=u):lt(t,e),vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(h=V=d;V!==null;){switch(m=V,v=m.child,m.tag){case 0:case 11:case 14:case 15:Gn(4,m,m.return);break;case 1:Jr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){ge(n,r,b)}}break;case 5:Jr(m,m.return);break;case 22:if(m.memoizedState!==null){cu(h);continue}}v!==null?(v.return=m,V=v):cu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vd("display",o))}catch(b){ge(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ge(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lt(t,e),vt(e),n&4&&ou(e);break;case 21:break;default:lt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vh(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var i=au(e);Io(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=au(e);Ao(e,l,o);break;default:throw Error(M(161))}}catch(c){ge(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xp(e,t,r){V=e,Wh(e)}function Wh(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Bs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Te;l=Bs;var u=Te;if(Bs=o,(Te=c)&&!u)for(V=s;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?uu(s):c!==null?(c.return=o,V=c):uu(s);for(;i!==null;)V=i,Wh(i),i=i.sibling;V=s,Bs=l,Te=u}lu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,V=i):lu(e)}}function lu(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Ki(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Te||t.flags&512&&Ro(t)}catch(m){ge(t,t.return,m)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function cu(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function uu(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ki(4,t)}catch(c){ge(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ge(t,s,c)}}var i=t.return;try{Ro(t)}catch(c){ge(t,i,c)}break;case 5:var o=t.return;try{Ro(t)}catch(c){ge(t,o,c)}}}catch(c){ge(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var wp=Math.ceil,Ci=Mt.ReactCurrentDispatcher,Dl=Mt.ReactCurrentOwner,it=Mt.ReactCurrentBatchConfig,ee=0,Ne=null,ye=null,ke=0,Ge=0,Qr=ur(0),be=0,gs=null,Er=0,Yi=0,zl=0,Kn=null,Me=null,Fl=0,fn=1/0,kt=null,Ei=!1,Mo=null,rr=null,Vs=!1,Yt=null,Pi=0,Yn=0,Do=null,si=-1,ii=0;function Le(){return ee&6?ve():si!==-1?si:si=ve()}function nr(e){return e.mode&1?ee&2&&ke!==0?ke&-ke:np.transition!==null?(ii===0&&(ii=Td()),ii):(e=te,e!==0||(e=window.event,e=e===void 0?16:Md(e.type)),e):1}function mt(e,t,r,n){if(50<Yn)throw Yn=0,Do=null,Error(M(185));bs(e,r,n),(!(ee&2)||e!==Ne)&&(e===Ne&&(!(ee&2)&&(Yi|=r),be===4&&Wt(e,ke)),Be(e,n),r===1&&ee===0&&!(t.mode&1)&&(fn=ve()+500,qi&&dr()))}function Be(e,t){var r=e.callbackNode;n0(e,t);var n=hi(e,e===Ne?ke:0);if(n===0)r!==null&&xc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xc(r),t===1)e.tag===0?rp(du.bind(null,e)):rh(du.bind(null,e)),X0(function(){!(ee&6)&&dr()}),r=null;else{switch($d(n)){case 1:r=hl;break;case 4:r=Ed;break;case 16:r=di;break;case 536870912:r=Pd;break;default:r=di}r=ef(r,Gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gh(e,t){if(si=-1,ii=0,ee&6)throw Error(M(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var n=hi(e,e===Ne?ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ti(e,n);else{t=n;var s=ee;ee|=2;var i=Yh();(Ne!==e||ke!==t)&&(kt=null,fn=ve()+500,_r(e,t));do try{_p();break}catch(l){Kh(e,l)}while(!0);Sl(),Ci.current=i,ee=s,ye!==null?t=0:(Ne=null,ke=0,t=be)}if(t!==0){if(t===2&&(s=uo(e),s!==0&&(n=s,t=zo(e,s))),t===1)throw r=gs,_r(e,0),Wt(e,n),Be(e,ve()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!bp(s)&&(t=Ti(e,n),t===2&&(i=uo(e),i!==0&&(n=i,t=zo(e,i))),t===1))throw r=gs,_r(e,0),Wt(e,n),Be(e,ve()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(M(345));case 2:gr(e,Me,kt);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=Fl+500-ve(),10<t)){if(hi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xo(gr.bind(null,e,Me,kt),t);break}gr(e,Me,kt);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ft(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wp(n/1960))-n,10<n){e.timeoutHandle=xo(gr.bind(null,e,Me,kt),n);break}gr(e,Me,kt);break;case 5:gr(e,Me,kt);break;default:throw Error(M(329))}}}return Be(e,ve()),e.callbackNode===r?Gh.bind(null,e):null}function zo(e,t){var r=Kn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=Me,Me=r,t!==null&&Fo(t)),e}function Fo(e){Me===null?Me=e:Me.push.apply(Me,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~zl,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),n=1<<r;e[r]=-1,t&=~n}}function du(e){if(ee&6)throw Error(M(327));nn();var t=hi(e,0);if(!(t&1))return Be(e,ve()),null;var r=Ti(e,t);if(e.tag!==0&&r===2){var n=uo(e);n!==0&&(t=n,r=zo(e,n))}if(r===1)throw r=gs,_r(e,0),Wt(e,t),Be(e,ve()),r;if(r===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,Me,kt),Be(e,ve()),null}function Ul(e,t){var r=ee;ee|=1;try{return e(t)}finally{ee=r,ee===0&&(fn=ve()+500,qi&&dr())}}function Pr(e){Yt!==null&&Yt.tag===0&&!(ee&6)&&nn();var t=ee;ee|=1;var r=it.transition,n=te;try{if(it.transition=null,te=1,e)return e()}finally{te=n,it.transition=r,ee=t,!(ee&6)&&dr()}}function Bl(){Ge=Qr.current,oe(Qr)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Q0(r)),ye!==null)for(r=ye.return;r!==null;){var n=r;switch(jl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vi();break;case 3:dn(),oe(Fe),oe($e),$l();break;case 5:Tl(n);break;case 4:dn();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:kl(n.type._context);break;case 22:case 23:Bl()}r=r.return}if(Ne=e,ye=e=sr(e.current,null),ke=Ge=t,be=0,gs=null,zl=Yi=Er=0,Me=Kn=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}br=null}return e}function Kh(e,t){do{var r=ye;try{if(Sl(),ti.current=ki,Si){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Si=!1}if(Cr=0,_e=we=he=null,Wn=!1,fs=0,Dl.current=null,r===null||r.return===null){be=1,gs=t,ye=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Xc(o);if(v!==null){v.flags&=-257,Zc(v,o,l,i,t),v.mode&1&&Qc(i,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Qc(i,u,t),Vl();break e}c=Error(M(426))}}else if(ce&&l.mode&1){var C=Xc(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Zc(C,o,l,i,t),_l(hn(c,l));break e}}i=c=hn(c,l),be!==4&&(be=2),Kn===null?Kn=[i]:Kn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=$h(i,c,t);qc(i,p);break e;case 1:l=c;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Oh(i,l,t);qc(i,w);break e}}i=i.return}while(i!==null)}Qh(r)}catch(S){t=S,ye===r&&r!==null&&(ye=r=r.return);continue}break}while(!0)}function Yh(){var e=Ci.current;return Ci.current=ki,e===null?ki:e}function Vl(){(be===0||be===3||be===2)&&(be=4),Ne===null||!(Er&268435455)&&!(Yi&268435455)||Wt(Ne,ke)}function Ti(e,t){var r=ee;ee|=2;var n=Yh();(Ne!==e||ke!==t)&&(kt=null,_r(e,t));do try{jp();break}catch(s){Kh(e,s)}while(!0);if(Sl(),ee=r,Ci.current=n,ye!==null)throw Error(M(261));return Ne=null,ke=0,be}function jp(){for(;ye!==null;)Jh(ye)}function _p(){for(;ye!==null&&!Km();)Jh(ye)}function Jh(e){var t=Zh(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Qh(e):ye=t,Dl.current=null}function Qh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gp(r,t),r!==null){r.flags&=32767,ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ye=null;return}}else if(r=pp(r,t,Ge),r!==null){ye=r;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);be===0&&(be=5)}function gr(e,t,r){var n=te,s=it.transition;try{it.transition=null,te=1,Np(e,t,r,n)}finally{it.transition=s,te=n}return null}function Np(e,t,r,n){do nn();while(Yt!==null);if(ee&6)throw Error(M(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(s0(e,i),e===Ne&&(ye=Ne=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vs||(Vs=!0,ef(di,function(){return nn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=te;te=1;var l=ee;ee|=4,Dl.current=null,yp(e,r),qh(r,e),H0(vo),fi=!!go,vo=go=null,e.current=r,xp(r),Ym(),ee=l,te=o,it.transition=i}else e.current=r;if(Vs&&(Vs=!1,Yt=e,Pi=s),i=e.pendingLanes,i===0&&(rr=null),Xm(r.stateNode),Be(e,ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ei)throw Ei=!1,e=Mo,Mo=null,e;return Pi&1&&e.tag!==0&&nn(),i=e.pendingLanes,i&1?e===Do?Yn++:(Yn=0,Do=e):Yn=0,dr(),null}function nn(){if(Yt!==null){var e=$d(Pi),t=it.transition,r=te;try{if(it.transition=null,te=16>e?16:e,Yt===null)var n=!1;else{if(e=Yt,Yt=null,Pi=0,ee&6)throw Error(M(331));var s=ee;for(ee|=4,V=e.current;V!==null;){var i=V,o=i.child;if(V.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Gn(8,d,i)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var m=d.sibling,v=d.return;if(Bh(d),d===u){V=null;break}if(m!==null){m.return=v,V=m;break}V=v}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}V=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,V=o;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,V=p;break e}V=i.return}}var f=e.current;for(V=f;V!==null;){o=V;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,V=g;else e:for(o=f;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ki(9,l)}}catch(S){ge(l,l.return,S)}if(l===o){V=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,V=w;break e}V=l.return}}if(ee=s,dr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Fi,e)}catch{}n=!0}return n}finally{te=r,it.transition=t}}return!1}function hu(e,t,r){t=hn(r,t),t=$h(e,t,1),e=tr(e,t,1),t=Le(),e!==null&&(bs(e,1,t),Be(e,t))}function ge(e,t,r){if(e.tag===3)hu(e,e,r);else for(;t!==null;){if(t.tag===3){hu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rr===null||!rr.has(n))){e=hn(r,e),e=Oh(t,e,1),t=tr(t,e,1),e=Le(),t!==null&&(bs(t,1,e),Be(t,e));break}}t=t.return}}function Sp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&r,Ne===e&&(ke&r)===r&&(be===4||be===3&&(ke&130023424)===ke&&500>ve()-Fl?_r(e,0):zl|=r),Be(e,t)}function Xh(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var r=Le();e=At(e,t),e!==null&&(bs(e,t,r),Be(e,r))}function kp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xh(e,r)}function Cp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(t),Xh(e,r)}var Zh;Zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,mp(e,t,r);ze=!!(e.flags&131072)}else ze=!1,ce&&t.flags&1048576&&nh(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ni(e,t),e=t.pendingProps;var s=ln(t,$e.current);rn(t,r),s=Ll(null,t,n,e,s,r);var i=Rl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(n)?(i=!0,yi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(t),s.updater=Gi,t.stateNode=s,s._reactInternals=t,ko(t,n,e,r),t=Po(null,t,n,!0,i,r)):(t.tag=0,ce&&i&&bl(t),Oe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Pp(n),e=ct(n,e),s){case 0:t=Eo(null,t,n,e,r);break e;case 1:t=ru(null,t,n,e,r);break e;case 11:t=eu(null,t,n,e,r);break e;case 14:t=tu(null,t,n,ct(n.type,e),r);break e}throw Error(M(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),Eo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),ru(e,t,n,s,r);case 3:e:{if(Ih(t),e===null)throw Error(M(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ch(e,t),_i(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hn(Error(M(423)),t),t=nu(e,t,n,r,s);break e}else if(n!==s){s=hn(Error(M(424)),t),t=nu(e,t,n,r,s);break e}else for(Ke=er(t.stateNode.containerInfo.firstChild),Ye=t,ce=!0,ht=null,r=oh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),n===s){t=It(e,t,r);break e}Oe(e,t,n,r)}t=t.child}return t;case 5:return uh(t),e===null&&_o(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yo(n,s)?o=null:i!==null&&yo(n,i)&&(t.flags|=32),Ah(e,t),Oe(e,t,o,r),t.child;case 6:return e===null&&_o(t),null;case 13:return Mh(e,t,r);case 4:return Pl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=un(t,null,n,r):Oe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),eu(e,t,n,s,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ie(bi,n._currentValue),n._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!Fe.current){t=It(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ot(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),No(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),No(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,rn(t,r),s=at(s),n=n(s),t.flags|=1,Oe(e,t,n,r),t.child;case 14:return n=t.type,s=ct(n,t.pendingProps),s=ct(n.type,s),tu(e,t,n,s,r);case 15:return Lh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),ni(e,t),t.tag=1,Ue(n)?(e=!0,yi(t)):e=!1,rn(t,r),Th(t,n,s),ko(t,n,s,r),Po(null,t,n,!0,e,r);case 19:return Dh(e,t,r);case 22:return Rh(e,t,r)}throw Error(M(156,t.tag))};function ef(e,t){return Cd(e,t)}function Ep(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,r,n){return new Ep(e,t,r,n)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pp(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cl)return 11;if(e===ul)return 14}return 2}function sr(e,t){var r=e.alternate;return r===null?(r=st(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ai(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Hl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ur:return Nr(r.children,s,i,t);case ll:o=8,s|=8;break;case Ya:return e=st(12,r,t,s|2),e.elementType=Ya,e.lanes=i,e;case Ja:return e=st(13,r,t,s),e.elementType=Ja,e.lanes=i,e;case Qa:return e=st(19,r,t,s),e.elementType=Qa,e.lanes=i,e;case ud:return Ji(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ld:o=10;break e;case cd:o=9;break e;case cl:o=11;break e;case ul:o=14;break e;case Bt:o=16,n=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=st(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Nr(e,t,r,n){return e=st(7,e,n,t),e.lanes=r,e}function Ji(e,t,r,n){return e=st(22,e,n,t),e.elementType=ud,e.lanes=r,e.stateNode={isHidden:!1},e}function Da(e,t,r){return e=st(6,e,null,t),e.lanes=r,e}function za(e,t,r){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ql(e,t,r,n,s,i,o,l,c){return e=new Tp(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function $p(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tf(e){if(!e)return lr;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var r=e.type;if(Ue(r))return th(e,r,t)}return t}function rf(e,t,r,n,s,i,o,l,c){return e=ql(r,n,!0,e,s,i,o,l,c),e.context=tf(null),r=e.current,n=Le(),s=nr(r),i=Ot(n,s),i.callback=t??null,tr(r,i,s),e.current.lanes=s,bs(e,s,n),Be(e,n),e}function Qi(e,t,r,n){var s=t.current,i=Le(),o=nr(s);return r=tf(r),t.context===null?t.context=r:t.pendingContext=r,t=Ot(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tr(s,t,o),e!==null&&(mt(e,s,o,i),ei(e,s,o)),o}function $i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wl(e,t){fu(e,t),(e=e.alternate)&&fu(e,t)}function Op(){return null}var nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}Xi.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Qi(e,t,null,null)};Xi.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){Qi(null,e,null,null)}),t[Rt]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qt.length&&t!==0&&t<qt[r].priority;r++);qt.splice(r,0,e),r===0&&Id(e)}};function Kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mu(){}function Lp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=$i(o);i.call(u)}}var o=rf(t,n,e,0,null,!1,!1,"",mu);return e._reactRootContainer=o,e[Rt]=o.current,ls(e.nodeType===8?e.parentNode:e),Pr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=$i(c);l.call(u)}}var c=ql(e,0,!1,null,null,!1,!1,"",mu);return e._reactRootContainer=c,e[Rt]=c.current,ls(e.nodeType===8?e.parentNode:e),Pr(function(){Qi(t,c,r,n)}),c}function ea(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=$i(o);l.call(c)}}Qi(t,o,e,s)}else o=Lp(r,t,e,s,n);return $i(o)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dn(t.pendingLanes);r!==0&&(fl(t,r|1),Be(t,ve()),!(ee&6)&&(fn=ve()+500,dr()))}break;case 13:Pr(function(){var n=At(e,1);if(n!==null){var s=Le();mt(n,e,1,s)}}),Wl(e,1)}};ml=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var r=Le();mt(t,e,134217728,r)}Wl(e,134217728)}};Ld=function(e){if(e.tag===13){var t=nr(e),r=At(e,t);if(r!==null){var n=Le();mt(r,e,t,n)}Wl(e,t)}};Rd=function(){return te};Ad=function(e,t){var r=te;try{return te=e,t()}finally{te=r}};oo=function(e,t,r){switch(t){case"input":if(eo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hi(n);if(!s)throw Error(M(90));hd(n),eo(n,s)}}}break;case"textarea":md(e,r);break;case"select":t=r.value,t!=null&&Xr(e,!!r.multiple,t,!1)}};bd=Ul;jd=Pr;var Rp={usingClientEntryPoint:!1,Events:[_s,qr,Hi,xd,wd,Ul]},Ln={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ap={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||Op,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Fi=Hs.inject(Ap),bt=Hs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rp;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(t))throw Error(M(200));return $p(e,t,null,r)};Xe.createRoot=function(e,t){if(!Kl(e))throw Error(M(299));var r=!1,n="",s=nf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ql(e,1,!1,null,null,r,!1,n,s),e[Rt]=t.current,ls(e.nodeType===8?e.parentNode:e),new Gl(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Sd(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Pr(e)};Xe.hydrate=function(e,t,r){if(!Zi(t))throw Error(M(200));return ea(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!Kl(e))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=nf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rf(t,null,e,1,r??null,s,!1,i,o),e[Rt]=t.current,ls(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xi(t)};Xe.render=function(e,t,r){if(!Zi(t))throw Error(M(200));return ea(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!Zi(e))throw Error(M(40));return e._reactRootContainer?(Pr(function(){ea(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Ul;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zi(r))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return ea(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),sd.exports=Xe;var Ip=sd.exports,pu=Ip;Ga.createRoot=pu.createRoot,Ga.hydrateRoot=pu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}var Jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jt||(Jt={}));const gu="popstate";function Mp(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Uo("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Oi(s)}return zp(t,r,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function af(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dp(){return Math.random().toString(36).substr(2,8)}function vu(e,t){return{usr:e.state,key:e.key,idx:t}}function Uo(e,t,r,n){return r===void 0&&(r=null),vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bn(t):t,{state:r,key:t&&t.key||n||Dp()})}function Oi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function zp(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Jt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(vs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Jt.Pop;let C=d(),p=C==null?null:C-u;u=C,c&&c({action:l,location:b.location,delta:p})}function m(C,p){l=Jt.Push;let f=Uo(b.location,C,p);u=d()+1;let g=vu(f,u),w=b.createHref(f);try{o.pushState(g,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&c&&c({action:l,location:b.location,delta:1})}function v(C,p){l=Jt.Replace;let f=Uo(b.location,C,p);u=d();let g=vu(f,u),w=b.createHref(f);o.replaceState(g,"",w),i&&c&&c({action:l,location:b.location,delta:0})}function x(C){let p=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof C=="string"?C:Oi(C);return f=f.replace(/ $/,"%20"),fe(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let b={get action(){return l},get location(){return e(s,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gu,h),c=C,()=>{s.removeEventListener(gu,h),c=null}},createHref(C){return t(s,C)},createURL:x,encodeLocation(C){let p=x(C);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:v,go(C){return o.go(C)}};return b}var yu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yu||(yu={}));function Fp(e,t,r){return r===void 0&&(r="/"),Up(e,t,r)}function Up(e,t,r,n){let s=typeof t=="string"?bn(t):t,i=mn(s.pathname||"/",r);if(i==null)return null;let o=of(e);Bp(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Zp(i);l=Qp(o[c],u)}return l}function of(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ir([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),of(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Yp(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of lf(i.path))s(i,o,c)}),t}function lf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=lf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jp(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vp=/^:[\w-]+$/,Hp=3,qp=2,Wp=1,Gp=10,Kp=-2,xu=e=>e==="*";function Yp(e,t){let r=e.split("/"),n=r.length;return r.some(xu)&&(n+=Kp),t&&(n+=qp),r.filter(s=>!xu(s)).reduce((s,i)=>s+(Vp.test(i)?Hp:i===""?Wp:Gp),n)}function Jp(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Qp(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Bo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ir([i,h.pathname]),pathnameBase:ng(ir([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ir([i,h.pathnameBase]))}return o}function Bo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Xp(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let b=l[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[h];return v&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Xp(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),af(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Zp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return af(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bn(e):e;return{pathname:r?r.startsWith("/")?r:tg(r,t):t,search:sg(n),hash:ig(s)}}function tg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fa(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yl(e,t){let r=rg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=bn(e):(s=vs({},e),fe(!s.pathname||!s.pathname.includes("?"),Fa("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Fa("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Fa("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=eg(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ir=e=>e.join("/").replace(/\/\/+/g,"/"),ng=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ig=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ag(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cf=["post","put","patch","delete"];new Set(cf);const og=["get",...cf];new Set(og);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}const ta=y.createContext(null),uf=y.createContext(null),Dt=y.createContext(null),ra=y.createContext(null),St=y.createContext({outlet:null,matches:[],isDataRoute:!1}),df=y.createContext(null);function lg(e,t){let{relative:r}=t===void 0?{}:t;jn()||fe(!1);let{basename:n,navigator:s}=y.useContext(Dt),{hash:i,pathname:o,search:l}=na(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ir([n,o])),s.createHref({pathname:c,search:l,hash:i})}function jn(){return y.useContext(ra)!=null}function Or(){return jn()||fe(!1),y.useContext(ra).location}function hf(e){y.useContext(Dt).static||y.useLayoutEffect(e)}function et(){let{isDataRoute:e}=y.useContext(St);return e?_g():cg()}function cg(){jn()||fe(!1);let e=y.useContext(ta),{basename:t,future:r,navigator:n}=y.useContext(Dt),{matches:s}=y.useContext(St),{pathname:i}=Or(),o=JSON.stringify(Yl(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return hf(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Jl(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ir([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const ug=y.createContext(null);function dg(e){let t=y.useContext(St).outlet;return t&&y.createElement(ug.Provider,{value:e},t)}function Ss(){let{matches:e}=y.useContext(St),t=e[e.length-1];return t?t.params:{}}function na(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Dt),{matches:s}=y.useContext(St),{pathname:i}=Or(),o=JSON.stringify(Yl(s,n.v7_relativeSplatPath));return y.useMemo(()=>Jl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function hg(e,t){return fg(e,t)}function fg(e,t,r,n){jn()||fe(!1);let{navigator:s,static:i}=y.useContext(Dt),{matches:o}=y.useContext(St),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=Or(),h;if(t){var m;let p=typeof t=="string"?bn(t):t;u==="/"||(m=p.pathname)!=null&&m.startsWith(u)||fe(!1),h=p}else h=d;let v=h.pathname||"/",x=v;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let b=Fp(e,{pathname:x}),C=yg(b&&b.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:ir([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:ir([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,r,n);return t&&C?y.createElement(ra.Provider,{value:{location:ys({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Jt.Pop}},C):C}function mg(){let e=jg(),t=ag(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const pg=y.createElement(mg,null);class gg extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(St.Provider,{value:this.props.routeContext},y.createElement(df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vg(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(ta);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(St.Provider,{value:t},n)}function yg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||fe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:v}=r,x=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let v,x=!1,b=null,C=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||pg,c&&(u<0&&m===0?(Ng("route-fallback"),x=!0,C=null):u===m&&(x=!0,C=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,m+1)),f=()=>{let g;return v?g=b:x?g=C:h.route.Component?g=y.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,y.createElement(vg,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(gg,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var ff=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ff||{}),mf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mf||{});function xg(e){let t=y.useContext(ta);return t||fe(!1),t}function wg(e){let t=y.useContext(uf);return t||fe(!1),t}function bg(e){let t=y.useContext(St);return t||fe(!1),t}function pf(e){let t=bg(),r=t.matches[t.matches.length-1];return r.route.id||fe(!1),r.route.id}function jg(){var e;let t=y.useContext(df),r=wg(),n=pf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _g(){let{router:e}=xg(ff.UseNavigateStable),t=pf(mf.UseNavigateStable),r=y.useRef(!1);return hf(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ys({fromRouteId:t},i)))},[e,t])}const wu={};function Ng(e,t,r){wu[e]||(wu[e]=!0)}function Sg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gf(e){let{to:t,replace:r,state:n,relative:s}=e;jn()||fe(!1);let{future:i,static:o}=y.useContext(Dt),{matches:l}=y.useContext(St),{pathname:c}=Or(),u=et(),d=Jl(t,Yl(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function kg(e){return dg(e.context)}function pe(e){fe(!1)}function Cg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Jt.Pop,navigator:i,static:o=!1,future:l}=e;jn()&&fe(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:ys({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=bn(n));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:x="default"}=n,b=y.useMemo(()=>{let C=mn(d,c);return C==null?null:{location:{pathname:C,search:h,hash:m,state:v,key:x},navigationType:s}},[c,d,h,m,v,x,s]);return b==null?null:y.createElement(Dt.Provider,{value:u},y.createElement(ra.Provider,{children:r,value:b}))}function Eg(e){let{children:t,location:r}=e;return hg(Vo(t),r)}new Promise(()=>{});function Vo(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,Vo(n.props.children,i));return}n.type!==pe&&fe(!1),!n.props.index||!n.props.children||fe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vo(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}function vf(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Pg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tg(e,t){return e.button===0&&(!t||t==="_self")&&!Pg(e)}const $g=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Og=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Lg="6";try{window.__reactRouterVersion=Lg}catch{}const Rg=y.createContext({isTransitioning:!1}),Ag="startTransition",bu=Sm[Ag];function Ig(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=Mp({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(h=>{u&&bu?bu(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Sg(n),[n]),y.createElement(Cg,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=vf(t,$g),{basename:v}=y.useContext(Dt),x,b=!1;if(typeof u=="string"&&Dg.test(u)&&(x=u,Mg))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=mn(w.pathname,v);w.origin===g.origin&&S!=null?u=S+w.search+w.hash:b=!0}catch{}let C=lg(u,{relative:s}),p=Fg(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(g){n&&n(g),g.defaultPrevented||p(g)}return y.createElement("a",Li({},m,{href:x||C,onClick:b||i?n:f,ref:r,target:c}))}),yr=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=vf(t,Og),m=na(c,{relative:h.relative}),v=Or(),x=y.useContext(uf),{navigator:b,basename:C}=y.useContext(Dt),p=x!=null&&Ug(m)&&u===!0,f=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,g=v.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(g=g.toLowerCase(),w=w?w.toLowerCase():null,f=f.toLowerCase()),w&&C&&(w=mn(w,C)||w);const S=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let k=g===f||!o&&g.startsWith(f)&&g.charAt(S)==="/",N=w!=null&&(w===f||!o&&w.startsWith(f)&&w.charAt(f.length)==="/"),_={isActive:k,isPending:N,isTransitioning:p},L=k?n:void 0,$;typeof i=="function"?$=i(_):$=[i,k?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(_):l;return y.createElement(de,Li({},h,{"aria-current":L,className:$,ref:r,style:T,to:c,viewTransition:u}),typeof d=="function"?d(_):d)});var Ho;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ho||(Ho={}));var ju;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ju||(ju={}));function zg(e){let t=y.useContext(ta);return t||fe(!1),t}function Fg(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=et(),u=Or(),d=na(e,{relative:o});return y.useCallback(h=>{if(Tg(h,r)){h.preventDefault();let m=n!==void 0?n:Oi(u)===Oi(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function Ug(e,t){t===void 0&&(t={});let r=y.useContext(Rg);r==null&&fe(!1);let{basename:n}=zg(Ho.useViewTransitionState),s=na(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=mn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=mn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bo(s.pathname,o)!=null||Bo(s.pathname,i)!=null}const Bg="modulepreload",Vg=function(e,t){return new URL(e,t).href},_u={},pn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Vg(u,n),u in _u)return;_u[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!n)for(let x=o.length-1;x>=0;x--){const b=o[x];if(b.href===u&&(!d||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Bg,d||(v.as="script"),v.crossOrigin="",v.href=u,c&&v.setAttribute("nonce",c),document.head.appendChild(v),d)return new Promise((x,b)=>{v.addEventListener("load",x),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Hg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ql extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class qg extends Ql{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wg extends Ql{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gg extends Ql{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qo||(qo={}));var Kg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Yg{constructor(t,{headers:r={},customFetch:n,region:s=qo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Hg(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Kg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new qg(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Wg(d);if(!d.ok)throw new Gg(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield d.json():m==="application/octet-stream"?v=yield d.blob():m==="text/event-stream"?v=d:m==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var De={},Xl={},sa={},ks={},ia={},aa={},Jg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=Jg();const Qg=gn.fetch,yf=gn.fetch.bind(gn),xf=gn.Headers,Xg=gn.Request,Zg=gn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:xf,Request:Xg,Response:Zg,default:yf,fetch:Qg},Symbol.toStringTag,{value:"Module"})),ev=cm(_n);var oa={};Object.defineProperty(oa,"__esModule",{value:!0});let tv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};oa.default=tv;var wf=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aa,"__esModule",{value:!0});const rv=wf(ev),nv=wf(oa);let sv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,v="OK")}catch{i.status===404&&b===""?(m=204,v="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&this.shouldThrowOnError)throw new nv.default(u)}return{error:u,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};aa.default=sv;var iv=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ia,"__esModule",{value:!0});const av=iv(aa);let ov=class extends av.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ia.default=ov;var lv=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0});const cv=lv(ia);let uv=class extends cv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ks.default=uv;var dv=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sa,"__esModule",{value:!0});const Rn=dv(ks);let hv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Rn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Rn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Rn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sa.default=hv;var la={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.version=void 0;ca.version="0.0.0-automated";Object.defineProperty(la,"__esModule",{value:!0});la.DEFAULT_HEADERS=void 0;const fv=ca;la.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fv.version}`};var bf=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});const mv=bf(sa),pv=bf(ks),gv=la;let vv=class jf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},gv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new mv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new pv.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Xl.default=vv;var Nn=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const _f=Nn(Xl);De.PostgrestClient=_f.default;const Nf=Nn(sa);De.PostgrestQueryBuilder=Nf.default;const Sf=Nn(ks);De.PostgrestFilterBuilder=Sf.default;const kf=Nn(ia);De.PostgrestTransformBuilder=kf.default;const Cf=Nn(aa);De.PostgrestBuilder=Cf.default;const Ef=Nn(oa);De.PostgrestError=Ef.default;var yv=De.default={PostgrestClient:_f.default,PostgrestQueryBuilder:Nf.default,PostgrestFilterBuilder:Sf.default,PostgrestTransformBuilder:kf.default,PostgrestBuilder:Cf.default,PostgrestError:Ef.default};const{PostgrestClient:xv,PostgrestQueryBuilder:Ix,PostgrestFilterBuilder:Mx,PostgrestTransformBuilder:Dx,PostgrestBuilder:zx,PostgrestError:Fx}=yv,wv="2.11.2",bv={"X-Client-Info":`realtime-js/${wv}`},jv="1.0.0",Pf=1e4,_v=1e3;var sn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(sn||(sn={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var dt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dt||(dt={}));var Wo;(function(e){e.websocket="websocket"})(Wo||(Wo={}));var xr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xr||(xr={}));class Nv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Tf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const Nu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Sv(o,e,t,s),i),{})},Sv=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?$f(i,o):Go(o)},$f=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Pv(t,r)}switch(e){case se.bool:return kv(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Cv(t);case se.json:case se.jsonb:return Ev(t);case se.timestamp:return Tv(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Go(t);default:return Go(t)}},Go=e=>e,kv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Cv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ev=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Pv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>$f(t,l))}return e},Tv=e=>typeof e=="string"?e.replace(" ","T"):e,Of=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ua{constructor(t,r,n={},s=Pf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Su;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Su||(Su={}));class Jn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Jn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),x=d.filter(C=>v.indexOf(C.presence_ref)<0),b=h.filter(C=>m.indexOf(C.presence_ref)<0);x.length>0&&(l[u]=x),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ku;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ku||(ku={}));var Cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cu||(Cu={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Zl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ua(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Tf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Jn(this),this.broadcastEndpointURL=Of(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ct.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let b=0;b<v;b++){const C=m[b],{filter:{event:p,schema:f,table:g,filter:w}}=C,S=d&&d[b];if(S&&S.event===p&&S.schema===f&&S.table===g&&S.filter===w)x.push(Object.assign(Object.assign({},C),{id:S.id}));else{this.unsubscribe(),t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ct.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ua(this,dt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ua(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=dt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,b,C;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(b=v.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,b,C,p,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,S=(x=v.filter)===null||x===void 0?void 0:x.event;return w&&((b=r.ids)===null||b===void 0?void 0:b.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const w=(f=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:b,table:C,commit_timestamp:p,type:f,errors:g}=x;m=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:p,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(x))}v.callback(m,n)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dt.close,{},t)}_onError(t){this._on(dt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Nu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Nu(t.columns,t.old_record)),r}}const $v=()=>{},Ov=typeof WebSocket<"u",Lv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=bv,this.params={},this.timeout=Pf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$v,this.conn=null,this.sendBuffer=[],this.serializer=new Nv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>pn(async()=>{const{default:c}=await Promise.resolve().then(()=>_n);return{default:c}},void 0,import.meta.url).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Wo.websocket}`,this.httpEndpoint=Of(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ov){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Av(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pn(async()=>{const{default:t}=await import("./browser-BiQtX7xJ.js").then(r=>r.b);return{default:t}},[],import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return xr.Connecting;case sn.open:return xr.Open;case sn.closing:return xr.Closing;default:return xr.Closed}}isConnected(){return this.connectionState()===xr.Open}channel(t,r={config:{}}){const n=new Zl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(dt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(_v,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(dt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Lv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Av{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=sn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ec extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Iv extends ec{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ko extends ec{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Mv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Lf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Dv=()=>Mv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pn(()=>Promise.resolve().then(()=>_n),void 0,import.meta.url)).Response:Response}),Yo=e=>{if(Array.isArray(e))return e.map(r=>Yo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Yo(n)}),t};var Lr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zv=(e,t,r)=>Lr(void 0,void 0,void 0,function*(){const n=yield Dv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Iv(Ba(s),e.status||500))}).catch(s=>{t(new Ko(Ba(s),s))}):t(new Ko(Ba(e),e))}),Fv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Cs(e,t,r,n,s,i){return Lr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Fv(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>zv(c,l,n))})})}function Ri(e,t,r,n){return Lr(this,void 0,void 0,function*(){return Cs(e,"GET",t,r,n)})}function Ht(e,t,r,n,s){return Lr(this,void 0,void 0,function*(){return Cs(e,"POST",t,n,s,r)})}function Uv(e,t,r,n,s){return Lr(this,void 0,void 0,function*(){return Cs(e,"PUT",t,n,s,r)})}function Bv(e,t,r,n){return Lr(this,void 0,void 0,function*(){return Cs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rf(e,t,r,n,s){return Lr(this,void 0,void 0,function*(){return Cs(e,"DELETE",t,n,s,r)})}var Ie=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Vv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Lf(s)}uploadOrUpdate(t,r,n,s){return Ie(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Eu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(je(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Eu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ec("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ie(this,void 0,void 0,function*(){try{const s=yield Ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}download(t,r){return Ie(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ri(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(je(l))return{data:null,error:l};throw l}})}info(t){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ri(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yo(n),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}exists(t){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Bv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(je(n)&&n instanceof Ko){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vv),r),{prefix:t||""});return{data:yield Ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const qv="2.7.1",Wv={"X-Client-Info":`storage-js/${qv}`};var Ir=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Gv{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Wv),r),this.fetch=Lf(n)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(je(t))return{data:null,error:t};throw t}})}getBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ir(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ir(this,void 0,void 0,function*(){try{return{data:yield Rf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}})}}class Kv extends Gv{constructor(t,r={},n){super(t,r,n)}from(t){return new Hv(this.url,this.headers,t,this.fetch)}}const Yv="2.49.4";let Fn="";typeof Deno<"u"?Fn="deno":typeof document<"u"?Fn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fn="react-native":Fn="node";const Jv={"X-Client-Info":`supabase-js-${Fn}/${Yv}`},Qv={headers:Jv},Xv={schema:"public"},Zv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e1={};var t1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const r1=e=>{let t;return e?t=e:typeof fetch>"u"?t=yf:t=fetch,(...r)=>t(...r)},n1=()=>typeof Headers>"u"?xf:Headers,s1=(e,t,r)=>{const n=r1(r),s=n1();return(i,o)=>t1(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var i1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function a1(e){return e.replace(/\/$/,"")}function o1(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>i1(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Af="2.69.1",zr=30*1e3,Jo=3,Va=Jo*zr,l1="http://localhost:9999",c1="supabase.auth.token",u1={"X-Client-Info":`gotrue-js/${Af}`},Qo="X-Supabase-Api-Version",If={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h1=6e5;class tc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class f1 extends tc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function m1(e){return Q(e)&&e.name==="AuthApiError"}class Mf extends tc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hr extends tc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ft extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p1(e){return Q(e)&&e.name==="AuthSessionMissingError"}class Ha extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends hr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends hr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g1(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pu extends hr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xo extends hr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qa(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class Tu extends hr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qn extends hr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ou=` 	
\r=`.split(""),v1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ou.length;t+=1)e[Ou[t].charCodeAt(0)]=-2;for(let t=0;t<$u.length;t+=1)e[$u[t].charCodeAt(0)]=t;return e})();function Df(e,t,r){const n=v1[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{w1(o,n,r)};for(let o=0;o<e.length;o+=1)Df(e.charCodeAt(o),s,i);return t.join("")}function y1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function x1(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}y1(n,t)}}function w1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function b1(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Df(e.charCodeAt(s),r,n);return new Uint8Array(t)}function j1(e){const t=[];return x1(e,r=>t.push(r)),new Uint8Array(t)}function _1(e){return Math.round(Date.now()/1e3)+e}function N1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yt=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Xn=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function S1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const zf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},k1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ff=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ks=async(e,t)=>{await e.removeItem(t)};class ua{constructor(){this.promise=new ua.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ua.promiseConstructor=Promise;function Wa(e){const t=e.split(".");if(t.length!==3)throw new Qn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!d1.test(t[n]))throw new Qn("JWT not in base64url format");return{header:JSON.parse(Lu(t[0])),payload:JSON.parse(Lu(t[1])),signature:b1(t[2]),raw:{header:t[0],payload:t[1]}}}async function C1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E1(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function P1(e){return("0"+e.toString(16)).substr(-2)}function T1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,P1).join("")}async function $1(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function O1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mr(e,t,r=!1){const n=T1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ff(e,`${t}-code-verifier`,s);const i=await O1(n);return[i,n===i?"plain":"s256"]}const L1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R1(e){const t=e.headers.get(Qo);if(!t||!t.match(L1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function I1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var M1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D1=[502,503,504];async function Ru(e){var t;if(!k1(e))throw new Xo(vr(e),0);if(D1.includes(e.status))throw new Xo(vr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Mf(vr(i),i)}let n;const s=R1(e);if(s&&s.getTime()>=If["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tu(vr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Tu(vr(r),e.status,r.weak_password.reasons);throw new f1(vr(r),e.status||500,n)}const z1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qo]||(i[Qo]=If["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await F1(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function F1(e,t,r,n,s,i){const o=z1(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Xo(vr(c),0)}if(l.ok||await Ru(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ru(c)}}function Ut(e){var t;let r=null;H1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_1(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Au(e){const t=Ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function U1(e){return{data:e,error:null}}function B1(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=M1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function V1(e){return e}function H1(e){return e.access_token&&e.refresh_token&&e.expires_in}var q1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class W1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gt})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q1(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:V1});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);u[`${C}Page`]=b}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gt})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gt})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gt})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}const G1={getItem:e=>Xn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Xn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Xn()&&globalThis.localStorage.removeItem(e)}};function Iu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function K1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dr={debug:!!(globalThis&&Xn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y1 extends Uf{}async function J1(e,t,r){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}K1();const Q1={url:l1,storageKey:c1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mu(e,t,r){return await r()}class xs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xs.nextInstanceID,xs.nextInstanceID+=1,this.instanceID>0&&yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Q1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new W1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zf(s.fetch),this.lock=s.lock||Mu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=J1:this.lock=Mu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Xn()?this.storage=G1:(this.memoryStorage={},this.storage=Iu(this.memoryStorage)):(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Af}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=S1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),yt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),g1(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Q(r)?{error:r}:{error:new Mf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ut}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Mr(this.storage,this.storageKey)),i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:x},xform:Ut})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ut})}else throw new qs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Au})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Au})}else throw new qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ha}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ut});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ha}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ut}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ha}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Mr(this.storage,this.storageKey));const{error:h}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qs("You must provide either an email or phone number.")}catch(l){if(Q(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Mr(this.storage,this.storageKey)),await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:U1})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ft;const{error:s}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Va:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Gt})})}catch(r){if(Q(r))return p1(r)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ft;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mr(this.storage,this.storageKey));const{data:u,error:d}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Gt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Wa(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ft;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!yt())throw new Ws("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ws(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pu("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Ws("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const v=m-d;v*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:b,error:C}=await this._getUser(i);if(C)throw C;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(m1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=N1(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Mr(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return yt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E1(async s=>(s>0&&await C1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&qa(i)&&Date.now()+o-n<zr})}catch(n){if(this._debug(r,"error",n),Q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),yt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Gs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Va;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Va}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),qa(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ua;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Q(i)){const o={session:null,error:i};return qa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ff(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zr}ms, refresh threshold is ${Jo} ticks`),s<=Jo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wa(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+h1>Date.now()))return n;const{data:s,error:i}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Qn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Qn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Wa(n);if(A1(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=I1(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,j1(`${l}.${c}`)))throw new Qn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}xs.nextInstanceID=0;const X1=xs;class Z1 extends X1{constructor(t){super(t)}}var ey=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ty{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=a1(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Xv,realtime:e1,auth:Object.assign(Object.assign({},Zv),{storageKey:c}),global:Qv},d=o1(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=s1(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new xv(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Yg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kv(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ey(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z1({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Rv(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ry=(e,t,r)=>new ty(e,t,r),ny="https://xlsazndxtgqlsyohzjhp.supabase.co",sy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhsc2F6bmR4dGdxbHN5b2h6amhwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM4Nzc3MTIsImV4cCI6MjA1OTQ1MzcxMn0.N1oXEwBKFjmiP0zacqY6HTHr-50-PZZjTBUzkkIyub4",R=ry(ny,sy),Bf=y.createContext(),iy=({children:e})=>{const[t,r]=y.useState(null),[n,s]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{(async()=>{var C;try{const{data:p,error:f}=await R.auth.getSession();if(f)throw f;r(((C=p==null?void 0:p.session)==null?void 0:C.user)||null)}catch(p){o(p.message)}finally{s(!1)}})();const{data:{subscription:b}}=R.auth.onAuthStateChange((C,p)=>{r((p==null?void 0:p.user)||null),s(!1)});return()=>b.unsubscribe()},[]);const v={user:t,loading:n,error:i,signUp:async(x,b,C={})=>{try{const{data:p,error:f}=await R.auth.signUp({email:x,password:b,options:{data:C}});if(f)throw f;return p}catch(p){throw o(p.message),p}},signIn:async(x,b)=>{try{const{data:C,error:p}=await R.auth.signInWithPassword({email:x,password:b});if(p)throw p;return C}catch(C){throw o(C.message),C}},signOut:async()=>{try{const{error:x}=await R.auth.signOut();if(x)throw x;r(null)}catch(x){throw o(x.message),x}},resetPassword:async x=>{try{const{error:b}=await R.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(b)throw b}catch(b){throw o(b.message),b}},updatePassword:async x=>{try{const{error:b}=await R.auth.updateUser({password:x});if(b)throw b}catch(b){throw o(b.message),b}},updateProfile:async x=>{try{if(x.email){const{error:C}=await R.auth.updateUser({email:x.email});if(C)throw C}const{error:b}=await R.from("profiles").update({full_name:x.fullName,updated_at:new Date}).eq("id",t.id);if(b)throw b}catch(b){throw o(b.message),b}},isAuthenticated:!!t};return a.jsx(Bf.Provider,{value:v,children:e})},He=()=>{const e=y.useContext(Bf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var Vf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Du=$t.createContext&&$t.createContext(Vf),ar=function(){return ar=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ar.apply(this,arguments)},ay=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function Hf(e){return e&&e.map(function(t,r){return $t.createElement(t.tag,ar({key:r},t.attr),Hf(t.child))})}function W(e){return function(t){return $t.createElement(oy,ar({attr:ar({},e.attr)},t),Hf(e.child))}}function oy(e){var t=function(r){var n=e.attr,s=e.size,i=e.title,o=ay(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),$t.createElement("svg",ar({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:ar(ar({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&$t.createElement("title",null,i),e.children)};return Du!==void 0?$t.createElement(Du.Consumer,null,function(r){return t(r)}):t(Vf)}function ly(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"}}]})(e)}function oi(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function cy(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"}}]})(e)}function uy(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function dy(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function qf(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function fr(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function hy(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"}}]})(e)}function zu(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function fy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function an(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function my(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function py(e){return W({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function gy(e){return W({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function vy(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"}}]})(e)}function Sn(e){return W({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M464.46 246.68L352 179.2V128h48c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-48V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v48h-48c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h48v51.2l-112.46 67.48A31.997 31.997 0 0 0 160 274.12V512h96v-96c0-35.35 28.65-64 64-64s64 28.65 64 64v96h96V274.12c0-11.24-5.9-21.66-15.54-27.44zM0 395.96V496c0 8.84 7.16 16 16 16h112V320L19.39 366.54A32.024 32.024 0 0 0 0 395.96zm620.61-29.42L512 320v192h112c8.84 0 16-7.16 16-16V395.96c0-12.8-7.63-24.37-19.39-29.42z"}}]})(e)}function yy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function xy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function wy(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function by(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function da(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function jy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function ha(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function _y(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"}}]})(e)}function Ny(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Sy(e){return W({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function rc(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function An(e){return W({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function Fu(e){return W({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function ky(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function Zo(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function Wf(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function Cy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function Ai(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function Ey(e){return W({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Py(e){return W({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}}]})(e)}function gt(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(e)}function Ty(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function $y(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"}}]})(e)}function Qe(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function _t(e){return W({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-30.63 169.75c14.06 16.72 39 19.09 55.97 5.22l88-72.02c17.09-13.98 19.59-39.19 5.62-56.28-13.97-17.11-39.19-19.59-56.31-5.62l-57.44 47-38.91-46.31c-15.44-18.39-39.22-27.92-64-25.33-24.19 2.48-45.25 16.27-56.37 36.92l-49.37 92.03c-23.4 43.64-8.69 96.37 34.19 123.75L131.56 432H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h208c34.08 0 53.77-42.79 28.28-68.28L166.42 333.86l34.8-64.87 24.15 28.76z"}}]})(e)}function Oy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"}}]})(e)}function Gf(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function fa(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Ly(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function el(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function Ry(e){return W({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"}}]})(e)}function Ii(e){return W({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function nc(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Kf(e){return W({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Nt(e){return W({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function sc(e){return W({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function Ay(e){return W({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}function Iy(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"}}]})(e)}function My(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}function Yf(e){return W({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(e)}const Dy=()=>{var o,l,c;const{user:e,signOut:t}=He(),[r,n]=y.useState(!1),s=()=>{n(!r)},i=async()=>{try{await t()}catch(u){console.error("Error signing out:",u)}};return a.jsx("header",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"mr-2 md:hidden text-gray-600",onClick:s,children:a.jsx(uy,{className:"text-xl"})}),a.jsx(de,{to:"/dashboard",className:"flex items-center",children:a.jsx("span",{className:"text-xl font-bold text-blue-600",children:"Church Connect"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"text-gray-600 hover:text-blue-600",children:a.jsx(dy,{className:"text-xl"})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"flex items-center",onClick:()=>n(!r),children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((l=(o=e==null?void 0:e.user_metadata)==null?void 0:o.full_name)==null?void 0:l.charAt(0))||((c=e==null?void 0:e.email)==null?void 0:c.charAt(0))||"U"})}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[a.jsx(de,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>n(!1),children:"Your Profile"}),a.jsx(de,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>n(!1),children:"Settings"}),a.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:i,children:[a.jsx(Ly,{className:"mr-2"}),"Sign out"]})]})]})]})]})})},zy=()=>a.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 py-2 md:hidden",children:a.jsxs("div",{className:"flex justify-around items-center",children:[a.jsxs(yr,{to:"/dashboard",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600":"text-gray-600"}`,children:[a.jsx(Wf,{className:"text-xl mb-1"}),a.jsx("span",{children:"Home"})]}),a.jsxs(yr,{to:"/calendar",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600":"text-gray-600"}`,children:[a.jsx(fr,{className:"text-xl mb-1"}),a.jsx("span",{children:"Calendar"})]}),a.jsxs(yr,{to:"/songs",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600":"text-gray-600"}`,children:[a.jsx(gt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Songs"})]}),a.jsxs(yr,{to:"/prayer-requests",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600":"text-gray-600"}`,children:[a.jsx(_t,{className:"text-xl mb-1"}),a.jsx("span",{children:"Prayer"})]}),a.jsxs(yr,{to:"/profile",className:({isActive:e})=>`flex flex-col items-center p-2 text-xs ${e?"text-blue-600":"text-gray-600"}`,children:[a.jsx(Nt,{className:"text-xl mb-1"}),a.jsx("span",{children:"Profile"})]})]})}),Fy=({className:e})=>{var s,i,o,l;const{user:t}=He(),r=[{path:"/dashboard",icon:a.jsx(Wf,{}),label:"Dashboard"},{path:"/calendar",icon:a.jsx(fr,{}),label:"Calendar"},{path:"/services",icon:a.jsx(Py,{}),label:"Services"},{path:"/songs",icon:a.jsx(gt,{}),label:"Songs"},{path:"/teams",icon:a.jsx(sc,{}),label:"Teams"},{path:"/prayer-requests",icon:a.jsx(_t,{}),label:"Prayer Requests"},{path:"/churches",icon:a.jsx(Sn,{}),label:"Churches"}],n=[{path:"/profile",icon:a.jsx(Nt,{}),label:"Profile"},{path:"/settings",icon:a.jsx(xy,{}),label:"Settings"}];return a.jsxs("aside",{className:`${e} flex flex-col h-[calc(100vh-4rem)] overflow-y-auto fixed`,children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:((i=(s=t==null?void 0:t.user_metadata)==null?void 0:s.full_name)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((l=t==null?void 0:t.user_metadata)==null?void 0:l.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:(t==null?void 0:t.email)||"No email"})]})]})}),a.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:r.map(c=>a.jsxs(yr,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))}),a.jsx("div",{className:"px-2 py-4 space-y-1 border-t",children:n.map(c=>a.jsxs(yr,{to:c.path,className:({isActive:u})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md ${u?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx("span",{className:"mr-3 text-lg",children:c.icon}),c.label]},c.path))})]})},Uy=({children:e})=>{const[t,r]=y.useState(window.innerWidth<768);return y.useEffect(()=>{const n=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[a.jsx(Dy,{}),a.jsxs("div",{className:"flex flex-1",children:[!t&&a.jsx(Fy,{className:"hidden md:block w-64 bg-white shadow-md"}),a.jsx("main",{className:"flex-1 px-4 md:px-6 pt-4 pb-[100px] md:ml-64",children:e})]}),t&&a.jsx(zy,{})]})},By=()=>{const{isAuthenticated:e,loading:t}=He();return t?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?a.jsx(Uy,{children:a.jsx(kg,{})}):a.jsx(gf,{to:"/login",replace:!0})},Vy=()=>{const{signIn:e}=He(),t=et(),[r,n]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),d=async m=>{m.preventDefault();try{l(null),u(!0),await e(r,s),t("/dashboard")}catch(v){l(v.message||"Failed to sign in"),console.error("Login error:",v)}finally{u(!1)}},h={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f9fafb",padding:"1rem"},formContainer:{width:"100%",maxWidth:"28rem"},header:{textAlign:"center",marginBottom:"1.5rem"},title:{fontSize:"1.875rem",fontWeight:"bold",color:"#2563eb",marginBottom:"0.5rem"},subtitle:{fontSize:"1.5rem",fontWeight:"bold",color:"#111827",marginTop:"1.5rem",marginBottom:"0.5rem"},description:{fontSize:"0.875rem",color:"#4b5563",marginTop:"0.5rem"},formBox:{backgroundColor:"white",padding:"2rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},errorBox:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"#fee2e2",color:"#b91c1c",borderRadius:"0.375rem",fontSize:"0.875rem"},form:{marginBottom:"1.5rem"},formGroup:{marginBottom:"1.5rem"},label:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},input:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"},checkbox:{marginRight:"0.5rem"},button:{width:"100%",padding:"0.75rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.375rem",fontWeight:"500",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},forgotPassword:{fontSize:"0.875rem",color:"#2563eb",textDecoration:"none",fontWeight:"500"},divider:{position:"relative",marginTop:"1.5rem",marginBottom:"1.5rem",height:"1px",backgroundColor:"#e5e7eb"},dividerText:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"0 0.5rem",fontSize:"0.875rem",color:"#6b7280"},signupText:{textAlign:"center",fontSize:"0.875rem",color:"#4b5563"},signupLink:{color:"#2563eb",textDecoration:"none",fontWeight:"500"},flex:{display:"flex"},justifyBetween:{justifyContent:"space-between"},alignCenter:{alignItems:"center"},spinner:{display:"inline-block",width:"1.25rem",height:"1.25rem",marginRight:"0.5rem",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"50%",borderTop:"2px solid white",animation:"spin 1s linear infinite"}};return a.jsx("div",{style:h.container,className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:a.jsxs("div",{style:h.formContainer,className:"w-full max-w-md",children:[a.jsxs("div",{style:h.header,className:"text-center mb-6",children:[a.jsx("h1",{style:h.title,className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{style:h.subtitle,className:"mt-6 text-2xl font-bold text-gray-900",children:"Welcome back"}),a.jsx("p",{style:h.description,className:"mt-2 text-sm text-gray-600",children:"Sign in to your account"})]}),a.jsxs("div",{style:h.formBox,className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{style:h.errorBox,className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{style:h.form,className:"space-y-6",onSubmit:d,children:[a.jsxs("div",{style:h.formGroup,children:[a.jsx("label",{style:h.label,htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,style:h.input,className:"form-input",placeholder:"you@example.com",value:r,onChange:m=>n(m.target.value)})]}),a.jsxs("div",{style:h.formGroup,children:[a.jsx("label",{style:h.label,htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,style:h.input,className:"form-input",placeholder:"",value:s,onChange:m=>i(m.target.value)})]}),a.jsxs("div",{style:{...h.flex,...h.justifyBetween,...h.alignCenter},className:"flex items-center justify-between",children:[a.jsxs("div",{style:h.flex,className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",style:h.checkbox,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("div",{children:a.jsx(de,{to:"/forgot-password",style:h.forgotPassword,className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,style:h.button,className:"btn btn-primary w-full flex justify-center items-center py-3 px-4 rounded-md shadow-sm text-sm font-medium",children:[c?a.jsx("div",{style:h.spinner,className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):null,"Sign in"]})})]}),a.jsxs("div",{children:[a.jsx("div",{style:h.divider,children:a.jsx("div",{style:h.dividerText,children:"Or"})}),a.jsx("div",{style:h.signupText,className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx(de,{to:"/register",style:h.signupLink,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})]})})},Hy=()=>{const{signUp:e}=He(),t=et(),[r,n]=y.useState({email:"",password:"",confirmPassword:"",fullName:"",churchName:""}),[s,i]=y.useState(null),[o,l]=y.useState(!1),c=d=>{const{name:h,value:m}=d.target;n(v=>({...v,[h]:m}))},u=async d=>{if(d.preventDefault(),r.password!==r.confirmPassword){i("Passwords do not match");return}try{i(null),l(!0),await e(r.email,r.password,{full_name:r.fullName,church_name:r.churchName}),t("/verify-email")}catch(h){i(h.message||"Failed to sign up")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Create an account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join the community today"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[s&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:s}),a.jsxs("form",{className:"space-y-4",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ha,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:r.email,onChange:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Nt,{className:"text-gray-400"})}),a.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe",value:r.fullName,onChange:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"churchName",className:"block text-sm font-medium text-gray-700",children:"Church Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Sn,{className:"text-gray-400"})}),a.jsx("input",{id:"churchName",name:"churchName",type:"text",className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Grace Community Church",value:r.churchName,onChange:c})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - You can join or create a church later"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ai,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:r.password,onChange:c})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ai,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:r.confirmPassword,onChange:c})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:o,className:"mt-4 w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Kf,{className:"mr-2"}),"Sign up"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",a.jsx(de,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})]})})},qy=()=>{const{resetPassword:e}=He(),[t,r]=y.useState(""),[n,s]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(""),u=async d=>{d.preventDefault();try{s(null),o(!0),c(""),await e(t),c("Password reset instructions have been sent to your email. Please check your inbox."),r("")}catch(h){s(h.message||"Failed to send password reset email")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address below and we'll send you a link to reset your password"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[n&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:n}),l&&a.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm",children:l}),a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(ha,{className:"text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com",value:t,onChange:d=>r(d.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:i,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Ty,{className:"mr-2"}),"Send Reset Link"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",a.jsx(de,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to login"})]})})]})]})})},Wy=()=>{const{updatePassword:e}=He(),t=et(),[r,n]=y.useState(""),[s,i]=y.useState(""),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,h]=y.useState(null);y.useEffect(()=>{const v=window.location.hash.substring(1);new URLSearchParams(v).get("access_token")?h(!0):l("Invalid reset link. Please request a new password reset link.")},[]);const m=async v=>{if(v.preventDefault(),r!==s){l("Passwords do not match");return}if(r.length<6){l("Password must be at least 6 characters");return}try{l(null),u(!0),await e(r),t("/login",{state:{message:"Password successfully reset. Please log in with your new password."}})}catch(x){l(x.message||"Failed to reset password")}finally{u(!1)}};return o&&!d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsx("button",{onClick:()=>t("/forgot-password"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Request New Reset Link"})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Set new password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Please enter a new password for your account"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg",children:[o&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm",children:o}),a.jsxs("form",{className:"space-y-6",onSubmit:m,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ai,{className:"text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:r,onChange:v=>n(v.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ai,{className:"text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"",value:s,onChange:v=>i(v.target.value)})]})]}),a.jsx("div",{children:a.jsxs("button",{type:"submit",disabled:c,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[c?a.jsx("div",{className:"animate-spin h-5 w-5 mr-2 border-t-2 border-white rounded-full"}):a.jsx(an,{className:"mr-2"}),"Reset Password"]})})]})]})]})})},Gy=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-blue-600",children:"Church Connect"}),a.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"Verify your email"})]}),a.jsxs("div",{className:"bg-white p-8 shadow rounded-lg text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(ha,{className:"text-2xl text-blue-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your inbox"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We sent a verification link to your email address. Please click the link to verify your account."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Next steps:"}),a.jsxs("ul",{className:"text-sm text-gray-600 text-left space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(an,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Check your email inbox (and spam folder)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(an,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Click the verification link in the email"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(an,{className:"mt-1 mr-2 text-green-500 flex-shrink-0"}),a.jsx("span",{children:"Return to Church Connect and sign in"})]})]})]}),a.jsx(de,{to:"/login",className:"block w-full py-3 px-4 text-center border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Login"})]}),a.jsxs("p",{className:"mt-6 text-sm text-gray-500",children:["Didn't receive an email? Check your spam folder or"," ",a.jsx(de,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"try again"})]})]})]})});var Jf={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ve,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",d="week",h="month",m="quarter",v="year",x="date",b="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var E=["th","st","nd","rd"],A=O%100;return"["+O+(E[(A-20)%10]||E[A]||E[0])+"]"}},g=function(O,E,A){var F=String(O);return!F||F.length>=E?O:""+Array(E+1-F.length).join(A)+O},w={s:g,z:function(O){var E=-O.utcOffset(),A=Math.abs(E),F=Math.floor(A/60),j=A%60;return(E<=0?"+":"-")+g(F,2,"0")+":"+g(j,2,"0")},m:function O(E,A){if(E.date()<A.date())return-O(A,E);var F=12*(A.year()-E.year())+(A.month()-E.month()),j=E.clone().add(F,h),P=A-j<0,I=E.clone().add(F+(P?-1:1),h);return+(-(F+(A-j)/(P?j-I:I-j))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:v,w:d,d:u,D:x,h:c,m:l,s:o,ms:i,Q:m}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},S="en",k={};k[S]=f;var N="$isDayjsObject",_=function(O){return O instanceof D||!(!O||!O[N])},L=function O(E,A,F){var j;if(!E)return S;if(typeof E=="string"){var P=E.toLowerCase();k[P]&&(j=P),A&&(k[P]=A,j=P);var I=E.split("-");if(!j&&I.length>1)return O(I[0])}else{var H=E.name;k[H]=E,j=H}return!F&&j&&(S=j),j||!F&&S},$=function(O,E){if(_(O))return O.clone();var A=typeof E=="object"?E:{};return A.date=O,A.args=arguments,new D(A)},T=w;T.l=L,T.i=_,T.w=function(O,E){return $(O,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var D=function(){function O(A){this.$L=L(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[N]=!0}var E=O.prototype;return E.parse=function(A){this.$d=function(F){var j=F.date,P=F.utc;if(j===null)return new Date(NaN);if(T.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var I=j.match(C);if(I){var H=I[2]-1||0,G=(I[7]||"0").substring(0,3);return P?new Date(Date.UTC(I[1],H,I[3]||1,I[4]||0,I[5]||0,I[6]||0,G)):new Date(I[1],H,I[3]||1,I[4]||0,I[5]||0,I[6]||0,G)}}return new Date(j)}(A),this.init()},E.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},E.$utils=function(){return T},E.isValid=function(){return this.$d.toString()!==b},E.isSame=function(A,F){var j=$(A);return this.startOf(F)<=j&&j<=this.endOf(F)},E.isAfter=function(A,F){return $(A)<this.startOf(F)},E.isBefore=function(A,F){return this.endOf(F)<$(A)},E.$g=function(A,F,j){return T.u(A)?this[F]:this.set(j,A)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(A,F){var j=this,P=!!T.u(F)||F,I=T.p(A),H=function(ne,re){var xe=T.w(j.$u?Date.UTC(j.$y,re,ne):new Date(j.$y,re,ne),j);return P?xe:xe.endOf(u)},G=function(ne,re){return T.w(j.toDate()[ne].apply(j.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(re)),j)},z=this.$W,U=this.$M,Y=this.$D,J="set"+(this.$u?"UTC":"");switch(I){case v:return P?H(1,0):H(31,11);case h:return P?H(1,U):H(0,U+1);case d:var K=this.$locale().weekStart||0,B=(z<K?z+7:z)-K;return H(P?Y-B:Y+(6-B),U);case u:case x:return G(J+"Hours",0);case c:return G(J+"Minutes",1);case l:return G(J+"Seconds",2);case o:return G(J+"Milliseconds",3);default:return this.clone()}},E.endOf=function(A){return this.startOf(A,!1)},E.$set=function(A,F){var j,P=T.p(A),I="set"+(this.$u?"UTC":""),H=(j={},j[u]=I+"Date",j[x]=I+"Date",j[h]=I+"Month",j[v]=I+"FullYear",j[c]=I+"Hours",j[l]=I+"Minutes",j[o]=I+"Seconds",j[i]=I+"Milliseconds",j)[P],G=P===u?this.$D+(F-this.$W):F;if(P===h||P===v){var z=this.clone().set(x,1);z.$d[H](G),z.init(),this.$d=z.set(x,Math.min(this.$D,z.daysInMonth())).$d}else H&&this.$d[H](G);return this.init(),this},E.set=function(A,F){return this.clone().$set(A,F)},E.get=function(A){return this[T.p(A)]()},E.add=function(A,F){var j,P=this;A=Number(A);var I=T.p(F),H=function(U){var Y=$(P);return T.w(Y.date(Y.date()+Math.round(U*A)),P)};if(I===h)return this.set(h,this.$M+A);if(I===v)return this.set(v,this.$y+A);if(I===u)return H(1);if(I===d)return H(7);var G=(j={},j[l]=n,j[c]=s,j[o]=r,j)[I]||1,z=this.$d.getTime()+A*G;return T.w(z,this)},E.subtract=function(A,F){return this.add(-1*A,F)},E.format=function(A){var F=this,j=this.$locale();if(!this.isValid())return j.invalidDate||b;var P=A||"YYYY-MM-DDTHH:mm:ssZ",I=T.z(this),H=this.$H,G=this.$m,z=this.$M,U=j.weekdays,Y=j.months,J=j.meridiem,K=function(re,xe,qe,tt){return re&&(re[xe]||re(F,P))||qe[xe].slice(0,tt)},B=function(re){return T.s(H%12||12,re,"0")},ne=J||function(re,xe,qe){var tt=re<12?"AM":"PM";return qe?tt.toLowerCase():tt};return P.replace(p,function(re,xe){return xe||function(qe){switch(qe){case"YY":return String(F.$y).slice(-2);case"YYYY":return T.s(F.$y,4,"0");case"M":return z+1;case"MM":return T.s(z+1,2,"0");case"MMM":return K(j.monthsShort,z,Y,3);case"MMMM":return K(Y,z);case"D":return F.$D;case"DD":return T.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return K(j.weekdaysMin,F.$W,U,2);case"ddd":return K(j.weekdaysShort,F.$W,U,3);case"dddd":return U[F.$W];case"H":return String(H);case"HH":return T.s(H,2,"0");case"h":return B(1);case"hh":return B(2);case"a":return ne(H,G,!0);case"A":return ne(H,G,!1);case"m":return String(G);case"mm":return T.s(G,2,"0");case"s":return String(F.$s);case"ss":return T.s(F.$s,2,"0");case"SSS":return T.s(F.$ms,3,"0");case"Z":return I}return null}(re)||I.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(A,F,j){var P,I=this,H=T.p(F),G=$(A),z=(G.utcOffset()-this.utcOffset())*n,U=this-G,Y=function(){return T.m(I,G)};switch(H){case v:P=Y()/12;break;case h:P=Y();break;case m:P=Y()/3;break;case d:P=(U-z)/6048e5;break;case u:P=(U-z)/864e5;break;case c:P=U/s;break;case l:P=U/n;break;case o:P=U/r;break;default:P=U}return j?P:T.a(P)},E.daysInMonth=function(){return this.endOf(h).$D},E.$locale=function(){return k[this.$L]},E.locale=function(A,F){if(!A)return this.$L;var j=this.clone(),P=L(A,F,!0);return P&&(j.$L=P),j},E.clone=function(){return T.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},O}(),q=D.prototype;return $.prototype=q,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",h],["$y",v],["$D",x]].forEach(function(O){q[O[1]]=function(E){return this.$g(E,O[0],O[1])}}),$.extend=function(O,E){return O.$i||(O(E,D,$),O.$i=!0),$},$.locale=L,$.isDayjs=_,$.unix=function(O){return $(1e3*O)},$.en=k[S],$.Ls=k,$.p={},$})})(Jf);var Ky=Jf.exports;const le=Di(Ky);var Qf={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ve,function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,d,h,m){return i.fromToBase(u,d,h,m)}s.en.relativeTime=o,i.fromToBase=function(u,d,h,m,v){for(var x,b,C,p=h.$locale().relativeTime||o,f=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],g=f.length,w=0;w<g;w+=1){var S=f[w];S.d&&(x=m?s(u).diff(h,S.d,!0):h.diff(u,S.d,!0));var k=(r.rounding||Math.round)(Math.abs(x));if(C=x>0,k<=S.r||!S.r){k<=1&&w>0&&(S=f[w-1]);var N=p[S.l];v&&(k=v(""+k)),b=typeof N=="string"?N.replace("%d",k):N(k,d,S.l,C);break}}if(d)return b;var _=C?p.future:p.past;return typeof _=="function"?_(b):_.replace("%s",b)},i.to=function(u,d){return l(u,d,this,!0)},i.from=function(u,d){return l(u,d,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})})(Qf);var Yy=Qf.exports;const Xf=Di(Yy),Jy=({post:e,currentUserId:t})=>{var j,P,I,H,G;const[r,n]=y.useState(!1),[s,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[m,v]=y.useState({}),[x,b]=y.useState(!1),C=z=>{const U=new Date(z),J=Math.floor((new Date-U)/1e3);if(J<60)return"just now";if(J<3600){const K=Math.floor(J/60);return`${K} ${K===1?"minute":"minutes"} ago`}else if(J<86400){const K=Math.floor(J/3600);return`${K} ${K===1?"hour":"hours"} ago`}else if(J<604800){const K=Math.floor(J/86400);return`${K} ${K===1?"day":"days"} ago`}else return new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},p=C(e.created_at),f=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),g=e.post_type==="event",w=e.post_type==="prayer",S=e.post_type==="announcement",k=z=>{var Y;const U=(Y=e.reactions)==null?void 0:Y.find(J=>J.reaction_type===z);return U?parseInt(U.count):0},N=k("like"),_=k("pray"),L=k("amen"),$=async z=>{if(t)try{const{data:U,error:Y}=await R.rpc("toggle_post_reaction",{post_id_param:e.id,user_id_param:t,reaction_type_param:z});if(Y)throw Y;v(J=>({...J,[z]:U}))}catch(U){console.error("Error toggling reaction:",U)}};y.useEffect(()=>{r&&D()},[r]);const T=async z=>{if(!z)return{full_name:"Unknown User",avatar_url:null};if(z===t)return{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null};try{const U=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(U[z])return{full_name:U[z],avatar_url:null}}catch(U){console.log("Error reading username cache:",U)}return{full_name:"User",avatar_url:null}},D=async()=>{if(e.id)try{u(!0);const{data:z,error:U}=await R.from("comments").select("*").eq("post_id",e.id).order("created_at",{ascending:!0});if(U)throw U;if(!z||z.length===0){l([]);return}const Y=await Promise.all(z.map(async J=>{const K=await T(J.user_id);return{...J,profiles:K}}));l(Y)}catch(z){console.error("Error fetching comments:",z)}finally{u(!1)}},q=async z=>{if(z.preventDefault(),!(!s.trim()||!t))try{h(!0);const{data:U,error:Y}=await R.from("comments").insert({post_id:e.id,user_id:t,content:s.trim()}).select();if(Y)throw Y;if(U&&U.length>0){const J={...U[0],profiles:{full_name:localStorage.getItem("userFullName")||"You",avatar_url:localStorage.getItem("userAvatarUrl")||null}};l(K=>[...K,J])}i("")}catch(U){console.error("Error submitting comment:",U)}finally{h(!1)}},O=z=>{if(!z)return null;const U=[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^\s]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([^\s?]+)/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([^\s?]+)/];for(const Y of U){const J=z.match(Y);if(J&&J[1])return J[1].substring(0,11)}return null},E=z=>{if(!z)return[];const U=/(https?:\/\/(?:www\.)?(?:youtube\.com\/\S+|youtu\.be\/\S+))/gi;return z.match(U)||[]},A=z=>{if(!z)return null;const U=E(z);if(U.length===0)return a.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:z});if(U.length===1&&z.trim()===U[0]){const Y=O(U[0]);if(Y)return a.jsx("div",{children:a.jsx("iframe",{width:"100%",height:"300",src:`https://www.youtube.com/embed/${Y}`,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md my-2"})})}return a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-800 whitespace-pre-line mb-3",children:z}),U.map((Y,J)=>{const K=O(Y);return K?a.jsx("div",{className:"my-3",children:a.jsx("iframe",{width:"100%",height:"300",src:`https://www.youtube.com/embed/${K}`,title:`YouTube video ${J+1}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})},J):null})]})},F=z=>{if(!z)return null;const U=E(z);if(U.length===0)return a.jsx("p",{className:"text-gray-800",children:z});if(U.length===1&&z.trim()===U[0]){const Y=O(U[0]);if(Y)return a.jsx("div",{className:"mt-2",children:a.jsx("iframe",{width:"100%",height:"195",src:`https://www.youtube.com/embed/${Y}`,title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})})}return a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-800 mb-2",children:z}),U.map((Y,J)=>{const K=O(Y);return K?a.jsx("div",{className:"mt-2",children:a.jsx("iframe",{width:"100%",height:"195",src:`https://www.youtube.com/embed/${K}`,title:`YouTube video ${J+1}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-md"})},J):null})]})};return a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-4",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(de,{to:`/profile/${e.user_id}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:(j=e.profile)!=null&&j.avatar_url||e.avatar_url?a.jsx("img",{src:((P=e.profile)==null?void 0:P.avatar_url)||e.avatar_url,alt:((I=e.profile)==null?void 0:I.full_name)||"User",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Nt,{className:"text-gray-400"})})}),a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:((H=e.profile)==null?void 0:H.full_name)||"User"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("p",{className:"text-xs text-gray-500",children:[p,((G=e.church)==null?void 0:G.name)&&`  ${e.church.name}`]}),(g||w||S)&&a.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 ml-1 text-xs font-medium rounded-full ${g?"bg-blue-100 text-blue-700":w?"bg-purple-100 text-purple-700":"bg-yellow-100 text-yellow-700"}`,children:[g&&a.jsx(fr,{className:"mr-1 text-xs"}),w&&a.jsx(_t,{className:"mr-1 text-xs"}),S&&a.jsx(qf,{className:"mr-1 text-xs"}),g?"Event":w?"Prayer":"Announcement"]})]}),a.jsx("p",{className:"text-xs text-gray-400",title:f,children:f})]})})]})}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",onClick:()=>b(!x),children:a.jsx(jy,{})}),x&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>b(!1),children:"Save post"}),t===e.user_id&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>b(!1),children:"Edit post"}),a.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",onClick:()=>b(!1),children:"Delete post"})]})]})})]})]}),a.jsxs("div",{className:"p-4 pt-0",children:[A(e.content),e.media_urls&&e.media_urls.length>0&&a.jsx("div",{className:`mt-3 grid ${e.media_urls.length>1?"grid-cols-2 gap-2":"grid-cols-1"}`,children:e.media_urls.map((z,U)=>a.jsx("img",{src:z,alt:`Post media ${U+1}`,className:"w-full h-auto rounded-md object-cover"},U))})]}),(N>0||_>0||L>0||e.commentsCount>0)&&a.jsxs("div",{className:"px-4 py-2 flex justify-between text-sm text-gray-500 border-t border-gray-100",children:[a.jsxs("div",{children:[N>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(Zo,{className:"text-red-500 mr-1"})," ",N]}),_>0&&a.jsxs("span",{className:"flex items-center inline-block mr-3",children:[a.jsx(_t,{className:"text-purple-500 mr-1"})," ",_]})]}),e.commentsCount>0&&a.jsxs("button",{className:"hover:underline",onClick:()=>n(!r),children:[e.commentsCount," ",e.commentsCount===1?"comment":"comments"]})]}),a.jsxs("div",{className:"px-2 py-2 flex border-t border-gray-100",children:[a.jsxs("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${m.like?"text-red-500 font-medium":"text-gray-500 hover:bg-gray-50"}`,onClick:()=>$("like"),children:[m.like?a.jsx(Zo,{className:"mr-2"}):a.jsx(Yf,{className:"mr-2"}),"Like"]}),a.jsxs("button",{className:"flex-1 flex items-center justify-center p-2 text-gray-500 hover:bg-gray-50 rounded-md",onClick:()=>n(!r),children:[a.jsx(My,{className:"mr-2"}),"Comment"]}),a.jsxs("button",{className:`flex-1 flex items-center justify-center p-2 rounded-md ${m.pray?"text-purple-500 font-medium":"text-gray-500 hover:bg-gray-50"}`,onClick:()=>$("pray"),children:[a.jsx(_t,{className:"mr-2"}),"Pray"]})]}),r&&a.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100",children:[t&&a.jsxs("form",{onSubmit:q,className:"mb-4 flex",children:[a.jsx("input",{type:"text",placeholder:"Write a comment...",className:"flex-1 p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:s,onChange:z=>i(z.target.value),disabled:d}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-r-md disabled:opacity-50",disabled:!s.trim()||d,children:d?"Sending...":"Post"})]}),c?a.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"Loading comments..."}):o.length===0?a.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"No comments yet. Be the first to comment!"}):a.jsx("div",{className:"space-y-4",children:o.map(z=>{var U,Y;return a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:(U=z.profiles)!=null&&U.avatar_url?a.jsx("img",{src:z.profiles.avatar_url,alt:z.profiles.full_name||"User",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Nt,{className:"text-gray-400"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white rounded-lg px-3 py-2 shadow-sm",children:[a.jsx("div",{className:"font-medium text-sm",children:((Y=z.profiles)==null?void 0:Y.full_name)||"User"}),F(z.content)]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 ml-2",children:C(z.created_at)})]})]},z.id)})})]})]})},Qy=({onPostCreated:e,churchId:t})=>{var _,L;const{user:r}=He(),[n,s]=y.useState(""),[i,o]=y.useState("regular"),[l,c]=y.useState([]),[u,d]=y.useState([]),[h,m]=y.useState(!1),[v,x]=y.useState(!1),b=y.useRef(),C=$=>{s($.target.value),!v&&$.target.value&&x(!0)},p=$=>{const T=Array.from($.target.files);if(T.length===0)return;const D=T.filter(O=>O.type.startsWith("image/")||O.type.startsWith("video/")),q=D.map(O=>({file:O,url:URL.createObjectURL(O),type:O.type.startsWith("image/")?"image":"video"}));c([...l,...D]),d([...u,...q]),x(!0)},f=$=>{URL.revokeObjectURL(u[$].url);const T=[...l];T.splice($,1);const D=[...u];D.splice($,1),c(T),d(D)},g=$=>{o($),x(!0)},w=async $=>{if($.preventDefault(),!(!n.trim()&&l.length===0))try{m(!0);const T={user_id:r.id,church_id:t,content:n.trim(),media_urls:[],post_type:i},{data:D,error:q}=await R.from("posts").insert(T).select().single();if(q)throw console.error("Post creation error:",q),q;console.log("Post created successfully:",D),s(""),c([]),d([]),o("regular"),x(!1),e&&e(D)}catch(T){console.error("Error creating post:",T),alert("Failed to create post. Please try again: "+T.message)}finally{m(!1)}},S=({type:$,icon:T,label:D,active:q})=>a.jsxs("button",{type:"button",className:`flex items-center px-3 py-1.5 rounded-full text-sm ${q?"bg-blue-100 text-blue-800":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>g($),children:[T,a.jsx("span",{className:"ml-1",children:D})]}),{avatar_url:k,full_name:N}=(r==null?void 0:r.user_metadata)||{};return a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:w,children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200",children:k?a.jsx("img",{src:k,alt:N,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Nt,{className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{placeholder:`What's on your mind, ${(N==null?void 0:N.split(" ")[0])||"there"}?`,className:"w-full border-0 focus:ring-0 text-lg text-gray-700 placeholder-gray-400 bg-transparent resize-none",rows:v?4:2,value:n,onChange:C,onClick:()=>x(!0)}),u.length>0&&a.jsx("div",{className:`grid gap-2 mb-3 ${u.length>1?"grid-cols-2":"grid-cols-1"}`,children:u.map(($,T)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-gray-100",children:[$.type==="image"?a.jsx("img",{src:$.url,alt:`Upload preview ${T+1}`,className:"w-full h-48 object-cover"}):a.jsx("video",{src:$.url,className:"w-full h-48 object-cover",controls:!0}),a.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white rounded-full p-1",onClick:()=>f(T),children:a.jsx(Ii,{})})]},T))})]})]})}),v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-1",children:[a.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:"Post type:"}),a.jsx(S,{type:"regular",icon:a.jsx(Nt,{className:"text-blue-500"}),label:"Regular",active:i==="regular"}),a.jsx(S,{type:"prayer",icon:a.jsx(_t,{className:"text-purple-500"}),label:"Prayer Request",active:i==="prayer"}),a.jsx(S,{type:"event",icon:a.jsx(fr,{className:"text-green-500"}),label:"Event",active:i==="event"}),(((_=r==null?void 0:r.user_metadata)==null?void 0:_.role)==="admin"||((L=r==null?void 0:r.user_metadata)==null?void 0:L.role)==="worship_leader")&&a.jsx(S,{type:"announcement",icon:a.jsx(qf,{className:"text-yellow-500"}),label:"Announcement",active:i==="announcement"})]})}),a.jsxs("div",{className:"px-4 py-2 flex items-center justify-between border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-1.5",onClick:()=>b.current.click(),children:[a.jsx(Cy,{className:"text-green-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Photo"})]}),a.jsxs("button",{type:"button",className:"flex items-center text-gray-600 hover:bg-gray-100 rounded-md px-3 py-1.5",onClick:()=>b.current.click(),children:[a.jsx(Ay,{className:"text-red-500 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"Video"})]}),a.jsx("input",{type:"file",multiple:!0,ref:b,className:"hidden",onChange:p,accept:"image/*,video/*"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",className:"px-4 py-1.5 text-sm border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>{x(!1),s(""),c([]),d([]),o("regular")},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h||!n.trim()&&l.length===0,className:"px-4 py-1.5 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"animate-spin mr-1.5"}),"Posting..."]}):"Post"})]})]})]})]})})},Xy=({currentUserId:e,churchId:t})=>{const{user:r}=He(),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState("all"),[h,m]=y.useState(0),[v,x]=y.useState(!0),[b,C]=y.useState(0),p=10;y.useEffect(()=>{f()},[h,u,b,t]),y.useEffect(()=>{e&&(r!=null&&r.user_metadata)&&(async()=>{try{const _=r.user_metadata.full_name,L=r.user_metadata.avatar_url;if(_)try{localStorage.setItem("userFullName",_),L&&localStorage.setItem("userAvatarUrl",L);const $=JSON.parse(localStorage.getItem("usernamesCache")||"{}");$[e]=_,localStorage.setItem("usernamesCache",JSON.stringify($))}catch($){console.error("Error updating localStorage cache:",$)}}catch(_){console.error("Error setting user metadata:",_)}})()},[e,r]);const f=async()=>{try{o(!0);let N=R.from("posts_with_authors").select("*").order("created_at",{ascending:!1}).range(h*p,(h+1)*p-1);if(u==="following"&&e){const{data:T}=await R.from("follows").select("following_id").eq("follower_id",e),D=(T==null?void 0:T.map(q=>q.following_id))||[];if(D.length===0){x(!1),s([]),o(!1);return}else N=N.in("user_id",D)}else u==="church"&&t?N=N.eq("church_id",t):u!=="all"&&(N=N.eq("post_type",u));const{data:_,error:L}=await N;if(L){console.error("Error with posts_with_authors view:",L);let T=R.from("posts").select("*").order("created_at",{ascending:!1}).range(h*p,(h+1)*p-1);if(u==="following"&&e){const E=(followingData==null?void 0:followingData.map(A=>A.following_id))||[];T=T.in("user_id",E)}else u==="church"&&t?T=T.eq("church_id",t):u!=="all"&&(T=T.eq("post_type",u));const{data:D,error:q}=await T;if(q)throw q;x(D.length===p);const O=await Promise.all(D.map(async E=>{var j,P;let A="User",F=null;if(E.user_id===e)A=((j=r==null?void 0:r.user_metadata)==null?void 0:j.full_name)||"You",F=(P=r==null?void 0:r.user_metadata)==null?void 0:P.avatar_url;else try{const I=JSON.parse(localStorage.getItem("usernamesCache")||"{}");if(I[E.user_id])A=I[E.user_id];else{const{data:H}=await R.rpc("get_user_full_name",{user_id_param:E.user_id});if(H){A=H;const G=JSON.parse(localStorage.getItem("usernamesCache")||"{}");G[E.user_id]=H,localStorage.setItem("usernamesCache",JSON.stringify(G))}}}catch(I){console.log("Error fetching user data:",I)}return g(E,A,F)}));w(O),o(!1);return}x(_.length===p);const $=await Promise.all(_.map(async T=>{const D=T.full_name||"User",q=T.avatar_url;if(D&&D!=="User"&&T.user_id)try{const O=JSON.parse(localStorage.getItem("usernamesCache")||"{}");O[T.user_id]=D,localStorage.setItem("usernamesCache",JSON.stringify(O))}catch(O){console.log("Error updating usernames cache:",O)}return g(T,D,q)}));w($)}catch(N){console.error("Error fetching posts:",N),c(N.message)}finally{o(!1)}},g=async(N,_,L)=>{let $={full_name:_,avatar_url:L},T=null;if(N.church_id&&!N.church_name){const{data:j,error:P}=await R.from("churches").select("name").eq("id",N.church_id).single();P||(T=j)}else N.church_name&&(T={name:N.church_name});const{data:D,error:q}=await R.from("reactions").select("reaction_type").eq("post_id",N.id),O=D?Array.from(D.reduce((j,{reaction_type:P})=>(j.set(P,(j.get(P)||0)+1),j),new Map)).map(([j,P])=>({reaction_type:j,count:P})):[];q&&console.error("Error fetching reactions:",q);const{count:E,error:A}=await R.from("comments").select("id",{count:"exact"}).eq("post_id",N.id);A&&console.error("Error fetching comments count:",A);let F={};if(e){const{data:j,error:P}=await R.from("reactions").select("reaction_type").eq("post_id",N.id).eq("user_id",e);P&&console.error("Error fetching user reactions:",P),j==null||j.forEach(I=>{F[I.reaction_type]=!0})}return{...N,profile:$,church:T,reactions:O||[],commentsCount:E||0,userReactions:F,created_at:N.created_at||new Date().toISOString()}},w=N=>{s(h===0?N:_=>[..._,...N])},S=N=>{var _,L;if(e){const $={...N,profile:{full_name:((_=r==null?void 0:r.user_metadata)==null?void 0:_.full_name)||"You",avatar_url:((L=r==null?void 0:r.user_metadata)==null?void 0:L.avatar_url)||null},reactions:[],commentsCount:0,userReactions:{}};s(T=>[$,...T])}else m(0),C($=>$+1)},k=()=>{!i&&v&&m(N=>N+1)};return a.jsxs("div",{className:"space-y-4",children:[e&&a.jsx(Qy,{onPostCreated:S,churchId:t}),a.jsxs("div",{className:"bg-white p-3 rounded-lg shadow flex items-center space-x-1 overflow-x-auto",children:[a.jsx(ky,{className:"text-gray-400 mr-2 flex-shrink-0"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="all"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>d("all"),children:"All"}),e&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="following"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>d("following"),children:"Following"}),t&&a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${u==="church"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>d("church"),children:"My Church"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="event"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>d("event"),children:"Events"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="prayer"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>d("prayer"),children:"Prayer"}),a.jsx("button",{className:`px-3 py-1 rounded-full text-sm font-medium ${u==="announcement"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,onClick:()=>d("announcement"),children:"Announcements"})]}),l?a.jsxs("div",{className:"bg-red-100 p-4 rounded-md text-red-800",children:["Error loading posts: ",l]}):n.length===0&&!i?a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500",children:u==="following"?"You're not following anyone yet, or the people you follow haven't posted anything.":u==="church"?"Your church doesn't have any posts yet.":u!=="all"?`No ${u} posts found.`:"There are no posts yet. Be the first to share something!"})]}):a.jsxs("div",{className:"space-y-4",children:[n.map(N=>a.jsx(Jy,{post:N,currentUserId:e},N.id)),i&&a.jsx("div",{className:"space-y-4",children:[1,2].map(N=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full animate-pulse"}),a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6 animate-pulse"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"})]}),a.jsx("div",{className:"h-40 bg-gray-200 rounded animate-pulse"})]},N))}),v&&!i&&a.jsx("button",{onClick:k,className:"w-full py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md",children:"Load more"})]})]})};le.extend(Xf);const Zy=()=>{const{user:e}=He(),[t,r]=y.useState([]),[n,s]=y.useState([]),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[h,m]=y.useState(null);return y.useEffect(()=>{(async()=>{try{c(!0);const x=localStorage.getItem("userChurchId");if(x)m(x);else try{const{data:b,error:C}=await R.from("profiles").select("church_id").eq("id",e.id).single();C?console.error("Profile error:",C):b!=null&&b.church_id&&(m(b.church_id),localStorage.setItem("userChurchId",b.church_id))}catch(b){console.error("Error querying profiles:",b)}if(h||x){const b=h||x,{data:C,error:p}=await R.from("churches").select("*").eq("id",b).single();p?console.error("Church error:",p):d(C);const f=le().toISOString(),g=le().add(7,"day").toISOString(),{data:w,error:S}=await R.from("events").select("*").eq("church_id",b).gte("start_time",f).lte("start_time",g).order("start_time",{ascending:!0}).limit(5);S?console.error("Event error:",S):r(w||[]);const{data:k,error:N}=await R.from("songs").select("*").eq("church_id",b).order("created_at",{ascending:!1}).limit(5);N?console.error("Song error:",N):s(k||[]);const{data:_,error:L}=await R.from("prayer_requests").select("*").eq("church_id",b).eq("is_private",!1).order("created_at",{ascending:!1}).limit(5);L?console.error("Prayer error:",L):o(_||[])}}catch(x){console.error("Error fetching dashboard data:",x)}finally{c(!1)}})()},[e==null?void 0:e.id]),l?a.jsxs("div",{className:"space-y-6 pt-6",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((v,x)=>a.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},x))}),a.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}):a.jsxs("div",{className:"space-y-6 pt-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),u&&a.jsx("p",{className:"text-gray-600",children:u.name}),!u&&a.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[a.jsx("p",{className:"text-yellow-700",children:"You're not connected to a church yet. Join or create one to access all features."}),a.jsxs(de,{to:"/churches",className:"mt-3 inline-flex items-center justify-center w-full sm:w-auto px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[a.jsx(Sn,{className:"mr-2"}),"Find or Create a Church"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(de,{to:"/calendar",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(fr,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Calendar"})]}),a.jsxs(de,{to:"/songs",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(gt,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Songs"})]}),a.jsxs(de,{to:"/prayer-requests",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(_t,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Prayer"})]}),a.jsxs(de,{to:"/teams",className:"flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(sc,{className:"text-3xl text-blue-600 mb-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Teams"})]})]}),a.jsx(Xy,{currentUserId:e.id,churchId:h})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Upcoming Events"}),a.jsx(de,{to:"/calendar",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),t.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No upcoming events in the next 7 days"}):a.jsx("div",{className:"space-y-3",children:t.map(v=>a.jsxs("div",{className:"flex items-start p-3 border border-gray-100 rounded-md hover:bg-gray-50",children:[a.jsxs("div",{className:"min-w-[60px] text-center",children:[a.jsx("div",{className:"font-bold text-gray-900",children:le(v.start_time).format("MMM")}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:le(v.start_time).format("DD")})]}),a.jsxs("div",{className:"ml-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.title}),a.jsxs("div",{className:"text-sm text-gray-500",children:[le(v.start_time).format("h:mm A")," - ",le(v.end_time).format("h:mm A")]}),v.location&&a.jsx("div",{className:"text-sm text-gray-500",children:v.location})]})]},v.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Prayer Requests"}),a.jsx(de,{to:"/prayer-requests",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),i.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No prayer requests yet"}):a.jsx("div",{className:"space-y-3",children:i.map(v=>a.jsxs("div",{className:"p-3 border-b last:border-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.title}),a.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:v.description}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[v.is_anonymous?"Anonymous":"User","  ",le(v.created_at).fromNow()]})]},v.id))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Songs"}),a.jsx(de,{to:"/songs",className:"text-sm text-blue-600 font-medium",children:"View all "})]}),n.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No songs added yet"}):a.jsx("div",{className:"space-y-3",children:n.map(v=>a.jsxs("div",{className:"flex items-center p-3 border-b last:border-0",children:[a.jsx(gt,{className:"text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:v.title}),v.artist&&a.jsx("div",{className:"text-sm text-gray-500",children:v.artist})]})]},v.id))})]})]})]})]})},ex=()=>{const e=et(),[t,r]=y.useState(le()),[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState("month");y.useEffect(()=>{(async()=>{try{o(!0);const g=t.startOf("month").toISOString(),w=t.endOf("month").toISOString(),{data:S,error:k}=await R.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            event_type,
            churches (name)
          `).gte("start_time",g).lte("start_time",w);if(k)throw k;s(S||[])}catch(g){console.error("Error fetching events:",g)}finally{o(!1)}})()},[t]);const u=()=>{l==="month"?r(t.subtract(1,"month")):l==="quarter"?r(t.subtract(3,"month")):l==="year"&&r(t.subtract(1,"year"))},d=()=>{l==="month"?r(t.add(1,"month")):l==="quarter"?r(t.add(3,"month")):l==="year"&&r(t.add(1,"year"))},h=()=>{const f=t.startOf("month"),g=t.endOf("month"),w=f.startOf("week"),S=g.endOf("week"),k=[];let N=w;for(;N.isBefore(S)||N.isSame(S,"day");)k.push(N),N=N.add(1,"day");return k},m=f=>n.filter(g=>le(g.start_time).isSame(f,"day")),v=()=>{e("/services/new")},x=f=>{f.event_type==="service"?e(`/services/${f.id}`):e(`/events/${f.id}`)},b=()=>{const f=h(),g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 border-b p-2",children:g.map(w=>a.jsx("div",{className:"text-center text-sm font-medium text-gray-500",children:w},w))}),a.jsx("div",{className:"grid grid-cols-7 gap-1 p-2",children:f.map(w=>{const S=w.month()===t.month(),k=w.isSame(le(),"day"),N=m(w);return a.jsxs("div",{className:`min-h-[80px] p-1 border rounded ${S?"bg-white":"bg-gray-50 text-gray-400"} ${k?"border-blue-500":"border-gray-200"}`,children:[a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-sm font-medium ${k?"bg-blue-500 text-white rounded-full w-6 h-6 inline-flex items-center justify-center":""}`,children:w.date()})}),a.jsxs("div",{className:"mt-1 space-y-1",children:[N.slice(0,3).map(_=>a.jsxs("div",{className:`truncate text-xs rounded p-1 cursor-pointer ${_.event_type==="service"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,title:_.title,onClick:()=>x(_),children:[_.event_type==="service"&&a.jsx(gt,{className:"inline mr-1",size:10}),_.title]},_.id)),N.length>3&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",N.length-3," more"]})]})]},w.valueOf())})})]})},C=()=>a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-gray-500",children:"Quarterly view coming soon"})}),p=()=>a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-gray-500",children:"Yearly view coming soon"})});return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calendar"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded shadow-sm flex items-center",title:"Add new service",onClick:v,children:[a.jsx(Qe,{className:"mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Service"})]})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Previous",children:a.jsx(py,{})}),a.jsxs("h2",{className:"text-lg font-medium",children:[l==="month"&&t.format("MMMM YYYY"),l==="quarter"&&`Q${Math.ceil((t.month()+1)/3)} ${t.year()}`,l==="year"&&t.format("YYYY")]}),a.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-gray-100","aria-label":"Next",children:a.jsx(gy,{})})]}),a.jsxs("div",{className:"border rounded-md overflow-hidden",children:[a.jsx("button",{onClick:()=>c("month"),className:`px-3 py-1 text-sm ${l==="month"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Month"}),a.jsx("button",{onClick:()=>c("quarter"),className:`px-3 py-1 text-sm ${l==="quarter"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Quarter"}),a.jsx("button",{onClick:()=>c("year"),className:`px-3 py-1 text-sm ${l==="year"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Year"})]})]}),i&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsxs(a.Fragment,{children:[l==="month"&&b(),l==="quarter"&&C(),l==="year"&&p()]}),a.jsxs("div",{className:"flex items-center justify-end space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-blue-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600",children:"Services"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-green-100 rounded mr-1"}),a.jsx("span",{className:"text-gray-600",children:"Other Events"})]})]})]})},tx=()=>{const e=et(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:v}=await R.from("songs").select("*").order("title",{ascending:!0});if(v)throw v;r(m||[])}catch(m){console.error("Error fetching songs:",m)}finally{s(!1)}})()},[]);const l=t.filter(h=>h.title.toLowerCase().includes(i.toLowerCase())||h.artist&&h.artist.toLowerCase().includes(i.toLowerCase())),c=()=>{e("/songs/new")},u=h=>{e(`/songs/${h}`)},d=(h,m)=>{m.stopPropagation(),e(`/songs/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Songs"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new song",onClick:c,children:a.jsx(Qe,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(gt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No songs found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No songs match your search criteria.":"Get started by adding a new song."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Qe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Song"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(h=>a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.title}),h.artist&&a.jsx("p",{className:"text-sm text-gray-500",children:h.artist})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[h.default_key&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Key: ",h.default_key]}),a.jsx("button",{onClick:m=>u(h.id),className:"text-gray-500 hover:text-blue-600",title:"View song",children:a.jsx(rc,{})}),a.jsx("button",{onClick:m=>d(h.id,m),className:"text-gray-500 hover:text-blue-600",title:"Edit song",children:a.jsx(da,{})})]})]})},h.id))})})]})},rx=()=>{const e=et(),[t,r]=y.useState([]),[n,s]=y.useState(!0),[i,o]=y.useState("");y.useEffect(()=>{(async()=>{try{s(!0);const{data:m,error:v}=await R.from("events").select(`
            id,
            title,
            description,
            start_time,
            end_time,
            location,
            church_id,
            team_id,
            churches (name)
          `).eq("event_type","service").order("start_time",{ascending:!1});if(v)throw v;r(m||[])}catch(m){console.error("Error fetching services:",m)}finally{s(!1)}})()},[]);const l=t.filter(h=>{var m;return h.title.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase())||((m=h.churches)==null?void 0:m.name)&&h.churches.name.toLowerCase().includes(i.toLowerCase())}),c=()=>{e("/services/new")},u=h=>{e(`/services/${h}`)},d=(h,m)=>{m.stopPropagation(),e(`/services/edit/${h}`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Services"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new service",onClick:c,children:a.jsx(Qe,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search services by title, description, or church...",value:i,onChange:h=>o(h.target.value)})]}),n&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!n&&a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(fr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No services found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i?"No services match your search criteria.":"Get started by adding a new service."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx(Qe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Service"]})})]}):a.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(h=>{var m;return a.jsx("li",{className:"px-4 py-4 hover:bg-gray-50 cursor-pointer",onClick:()=>u(h.id),children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.title}),a.jsx("p",{className:"text-sm text-gray-500",children:le(h.start_time).format("dddd, MMMM D, YYYY  h:mm A")}),((m=h.churches)==null?void 0:m.name)&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.churches.name})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:v=>u(h.id),className:"text-gray-500 hover:text-blue-600",title:"View service",children:a.jsx(rc,{})}),a.jsx("button",{onClick:v=>d(h.id,v),className:"text-gray-500 hover:text-blue-600",title:"Edit service",children:a.jsx(da,{})})]})]})},h.id)})})})]})},nx=({profile:e,isCurrentUser:t,onAvatarChange:r,onCoverChange:n,onEditProfile:s,uploadingAvatar:i,uploadingCover:o,stats:l})=>{const c=y.useRef(null),u=y.useRef(null),d=()=>{t&&c.current.click()},h=()=>{t&&u.current.click()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative h-48 bg-gray-200 rounded-lg overflow-hidden",children:[e.coverUrl?a.jsx("img",{src:e.coverUrl,alt:"Cover",className:"w-full h-full object-cover"}):a.jsx("div",{className:"h-full w-full bg-gradient-to-r from-blue-500 to-purple-600"}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute bottom-2 right-2 bg-white bg-opacity-70 p-2 rounded-full",onClick:h,disabled:o,children:a.jsx(zu,{className:"text-gray-700"})}),a.jsx("input",{type:"file",ref:u,onChange:n,className:"hidden",accept:"image/*"})]})]}),a.jsxs("div",{className:"relative flex flex-col md:flex-row gap-4 -mt-16 md:-mt-12 px-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"w-32 h-32 rounded-full bg-white p-1 shadow-lg",children:[e.avatarUrl?a.jsx("img",{src:e.avatarUrl,alt:e.fullName,className:"w-full h-full rounded-full object-cover"}):a.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(Nt,{className:"text-gray-400 text-4xl"})}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"absolute bottom-0 right-0 bg-white bg-opacity-70 p-2 rounded-full shadow",onClick:d,disabled:i,children:a.jsx(zu,{className:"text-gray-700"})}),a.jsx("input",{type:"file",ref:c,onChange:r,className:"hidden",accept:"image/*"})]})]})}),a.jsxs("div",{className:"flex-1 pt-16 md:pt-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.fullName}),a.jsxs("p",{className:"text-gray-600",children:[e.churchName?`${e.churchName}  `:"",e.role==="member"?"Member":e.role==="admin"?"Administrator":e.role==="worship_leader"?"Worship Leader":e.role]})]}),t&&a.jsx("div",{className:"mt-2 md:mt-0 space-x-2",children:a.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md flex items-center",onClick:s,children:[a.jsx(da,{className:"mr-2"})," Edit Profile"]})})]}),a.jsxs("div",{className:"flex mt-4 gap-4 text-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.posts}),a.jsx("div",{className:"text-sm text-gray-600",children:"Posts"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.followers}),a.jsx("div",{className:"text-sm text-gray-600",children:"Followers"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-900",children:l.following}),a.jsx("div",{className:"text-sm text-gray-600",children:"Following"})]})]})]})]})]})},sx=({profile:e})=>a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6 space-y-6",children:[e.bio?a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"About"}),a.jsx("p",{className:"mt-1 text-gray-600",children:e.bio})]}):null,a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Spiritual Gifts"}),e.spiritualGifts&&e.spiritualGifts.length>0?a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.spiritualGifts.map(t=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[a.jsx(_t,{className:"mr-1 h-3 w-3"}),t]},t))}):a.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"No spiritual gifts added yet"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ministry Interests"}),e.ministryInterests&&e.ministryInterests.length>0?a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.ministryInterests.map(t=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[a.jsx(sc,{className:"mr-1 h-3 w-3"}),t]},t))}):a.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"No ministry interests added yet"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact"}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ha,{className:"text-gray-400 mr-2"}),a.jsx("span",{children:e.email})]}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx(Sn,{className:"text-gray-400 mr-2"}),a.jsx("span",{children:e.churchName||"No church joined yet"})]})]})]})]})}),ix=({profile:e,onProfileChange:t,onSubmit:r,onCancel:n,updating:s,spiritualGiftOptions:i,ministryInterestOptions:o})=>{const l=d=>{const{name:h,value:m}=d.target;t(v=>({...v,[h]:m}))},c=d=>{const{value:h,checked:m}=d.target;t(v=>({...v,spiritualGifts:m?[...v.spiritualGifts,h]:v.spiritualGifts.filter(x=>x!==h)}))},u=d=>{const{value:h,checked:m}=d.target;t(v=>({...v,ministryInterests:m?[...v.ministryInterests,h]:v.ministryInterests.filter(x=>x!==h)}))};return a.jsx("form",{onSubmit:r,children:a.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullName",id:"fullName",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e.fullName,onChange:l})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),a.jsx("textarea",{name:"bio",id:"bio",rows:"3",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:e.bio,onChange:l,placeholder:"Share a little about yourself, your faith journey, etc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Spiritual Gifts"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:i.map(d=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:`gift-${d}`,name:"spiritualGifts",type:"checkbox",value:d,checked:e.spiritualGifts.includes(d),onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:`gift-${d}`,className:"ml-2 text-sm text-gray-700",children:d})]},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ministry Interests"}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:o.map(d=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:`interest-${d}`,name:"ministryInterests",type:"checkbox",value:d,checked:e.ministryInterests.includes(d),onChange:u,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:`interest-${d}`,className:"ml-2 text-sm text-gray-700",children:d})]},d))})]})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",className:"py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:n,children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:s,className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[s?a.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-white rounded-full"}):a.jsx(Gf,{className:"mr-2"}),"Save Changes"]})]})]})})},ax=({posts:e,loading:t,isCurrentUser:r})=>t?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(n=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-3",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]},n))}):e.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No posts yet"}),a.jsx("p",{className:"mt-1 text-gray-500",children:r?"You haven't shared any posts yet. Share something with your community!":"This user hasn't shared any posts yet."}),r&&a.jsx(de,{to:"/create-post",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Create your first post"})]}):a.jsx("div",{className:"space-y-4",children:e.map(n=>{var s,i,o,l;return a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"p-4 flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:(s=n.profile)!=null&&s.avatar_url||n.avatar_url?a.jsx("img",{src:((i=n.profile)==null?void 0:i.avatar_url)||n.avatar_url,alt:((o=n.profile)==null?void 0:o.full_name)||"User",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Nt,{className:"text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:((l=n.profile)==null?void 0:l.full_name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(n.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),a.jsxs("div",{className:"p-4 pt-0",children:[a.jsx("p",{className:"text-gray-800",children:n.content}),n.media_urls&&n.media_urls.length>0&&a.jsx("div",{className:`mt-3 grid ${n.media_urls.length>1?"grid-cols-2 gap-2":"grid-cols-1"}`,children:n.media_urls.map((c,u)=>a.jsx("img",{src:c,alt:`Post media ${u+1}`,className:"w-full h-auto rounded-md"},u))})]}),a.jsxs("div",{className:"px-4 py-2 border-t border-gray-100 flex justify-between text-sm",children:[a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("button",{className:"flex items-center text-gray-500 hover:text-blue-500",children:[a.jsx(Yf,{className:"mr-1"}),a.jsx("span",{children:n.reactions.filter(c=>c.reaction_type==="like").reduce((c,u)=>c+parseInt(u.count),0)||0})]}),a.jsxs("button",{className:"flex items-center text-gray-500 hover:text-blue-500",children:[a.jsx(wy,{className:"mr-1"}),a.jsx("span",{children:n.commentsCount})]})]}),a.jsx("div",{children:a.jsx(de,{to:`/posts/${n.id}`,className:"text-blue-500",children:"View Details"})})]})]},n.id)})}),Uu=({connection:e,currentUserId:t,onFollowToggle:r})=>{const n=e.profiles||e,s=e.follower_id||e.following_id;return a.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[a.jsxs(de,{to:`/profile/${s}`,className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 mr-3 flex-shrink-0",children:n.avatar_url?a.jsx("img",{src:n.avatar_url,alt:n.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx(Nt,{className:"text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:n.full_name}),n.church_id&&a.jsx("p",{className:"text-xs text-gray-500",children:n.church_name||"Church Member"})]})]}),s!==t&&a.jsx("button",{onClick:()=>r(s),className:"flex items-center px-3 py-1 rounded-md text-sm bg-blue-600 text-white hover:bg-blue-700",children:a.jsxs(a.Fragment,{children:[a.jsx(Kf,{className:"mr-1"}),"Follow"]})})]})},ox=({followers:e,following:t,currentUserId:r,onFollowToggle:n,activeConnectionTab:s="followers"})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex space-x-4 border-b",children:[a.jsx("button",{className:`pb-2 px-4 ${s==="followers"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500"}`,children:"Followers"}),a.jsx("button",{className:`pb-2 px-4 ${s==="following"?"border-b-2 border-blue-500 text-blue-600 font-medium":"text-gray-500"}`,children:"Following"})]}),a.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s==="followers"?e.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No followers yet"}):a.jsx("div",{children:e.map(i=>a.jsx(Uu,{connection:i,currentUserId:r,onFollowToggle:n},i.follower_id))}):t.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"Not following anyone yet"}):a.jsx("div",{children:t.map(i=>a.jsx(Uu,{connection:i,currentUserId:r,onFollowToggle:n},i.following_id))})})]}),lx=()=>{const{userId:e}=Ss(),{user:t,updateProfile:r}=He(),n=t==null?void 0:t.id,s=e||n,i=s===n,[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,h]=y.useState(null),[m,v]=y.useState("profile"),[x,b]=y.useState(!1),[C,p]=y.useState(!1),[f,g]=y.useState([]),[w,S]=y.useState([]),[k,N]=y.useState([]),[_,L]=y.useState(!1),[$,T]=y.useState(!1),[D,q]=y.useState("followers"),[O,E]=y.useState({fullName:"",email:"",churchName:"",role:"",bio:"",avatarUrl:"",coverUrl:"",spiritualGifts:[],ministryInterests:[]});y.useEffect(()=>{A()},[s]);const A=async()=>{var K;try{l(!0);const{data:B,error:ne}=await R.from("profiles").select("*, churches:church_id(*)").eq("id",s).single();if(ne)throw ne;E({fullName:(B==null?void 0:B.full_name)||"",email:(B==null?void 0:B.email)||"",churchName:((K=B==null?void 0:B.churches)==null?void 0:K.name)||"",role:(B==null?void 0:B.user_role)||"member",bio:(B==null?void 0:B.bio)||"",avatarUrl:(B==null?void 0:B.avatar_url)||"",coverUrl:(B==null?void 0:B.cover_url)||"",spiritualGifts:(B==null?void 0:B.spiritual_gifts)||[],ministryInterests:(B==null?void 0:B.ministry_interests)||[]}),F(s),j(s),P(s)}catch(B){console.error("Error fetching profile:",B)}finally{l(!1)}},F=async K=>{try{L(!0);const{data:B,error:ne}=await R.from("posts").select("*").eq("user_id",K).order("created_at",{ascending:!1}).limit(10);if(ne)throw ne;const re=await Promise.all(B.map(async xe=>{const{data:qe}=await R.from("profiles").select("full_name, avatar_url").eq("id",xe.user_id).single(),{data:tt,error:Rr}=await R.from("reactions").select("reaction_type, count(*)",{count:"exact"}).eq("post_id",xe.id).group("reaction_type");Rr&&console.error("Error fetching reactions:",Rr);const{count:om,error:ac}=await R.from("comments").select("id",{count:"exact"}).eq("post_id",xe.id);return ac&&console.error("Error fetching comments count:",ac),{...xe,profile:qe||{full_name:O.fullName,avatar_url:O.avatarUrl},reactions:tt||[],commentsCount:om||0}}));g(re)}catch(B){console.error("Error fetching posts:",B)}finally{L(!1)}},j=async K=>{try{const{data:B,error:ne}=await R.from("follows").select("following_id, profiles:following_id(*)").eq("follower_id",K);if(ne)throw ne;S(B||[])}catch(B){console.error("Error fetching following:",B)}},P=async K=>{try{const{data:B,error:ne}=await R.from("follows").select("follower_id, profiles:follower_id(*)").eq("following_id",K);if(ne)throw ne;N(B||[])}catch(B){console.error("Error fetching followers:",B)}},I=async K=>{K.preventDefault();try{u(!0),h(null);const{error:B}=await R.from("profiles").update({full_name:O.fullName,bio:O.bio,spiritual_gifts:O.spiritualGifts,ministry_interests:O.ministryInterests}).eq("id",n);if(B)throw B;await r({fullName:O.fullName}),T(!1),h({type:"success",text:"Profile updated successfully"})}catch(B){console.error("Error updating profile:",B),h({type:"error",text:B.message||"Failed to update profile"})}finally{u(!1)}},H=async K=>{try{b(!0);const B=K.target.files[0];if(!B)return;const ne=B.name.split(".").pop(),re=`${n}/${Math.random().toString(36).substring(2)}.${ne}`,{error:xe}=await R.storage.from("avatars").upload(re,B);if(xe)throw xe;const{data:qe}=R.storage.from("avatars").getPublicUrl(re),{error:tt}=await R.from("profiles").update({avatar_url:qe.publicUrl}).eq("id",n);if(tt)throw tt;E(Rr=>({...Rr,avatarUrl:qe.publicUrl}))}catch(B){console.error("Error uploading avatar:",B),h({type:"error",text:"Failed to upload avatar"})}finally{b(!1)}},G=async K=>{try{p(!0);const B=K.target.files[0];if(!B)return;const ne=B.name.split(".").pop(),re=`covers/${n}/${Math.random().toString(36).substring(2)}.${ne}`,{error:xe}=await R.storage.from("avatars").upload(re,B);if(xe)throw xe;const{data:qe}=R.storage.from("avatars").getPublicUrl(re),{error:tt}=await R.from("profiles").update({cover_url:qe.publicUrl}).eq("id",n);if(tt)throw tt;E(Rr=>({...Rr,coverUrl:qe.publicUrl}))}catch(B){console.error("Error uploading cover:",B),h({type:"error",text:"Failed to upload cover image"})}finally{p(!1)}},z=async K=>{try{const{data:B,error:ne}=await R.from("follows").select("id").eq("follower_id",n).eq("following_id",K).single();if(ne&&ne.code!=="PGRST116")throw ne;if(B){const{error:re}=await R.from("follows").delete().eq("id",B.id);if(re)throw re}else{const{error:re}=await R.from("follows").insert({follower_id:n,following_id:K});if(re)throw re}j(s),P(s)}catch(B){console.error("Error toggling follow:",B),h({type:"error",text:"Failed to update follow status"})}};if(o)return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-48 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]});const U=["Teaching","Worship","Leadership","Service","Hospitality","Prayer","Giving","Administration","Encouragement","Evangelism"],Y=["Worship Team","Children's Ministry","Youth Ministry","Missions","Media/Tech","Hospitality","Prayer Team","Small Groups","Outreach"],J={posts:f.length,followers:k.length,following:w.length};return a.jsxs("div",{className:"space-y-6 pb-16 md:pb-0",children:[a.jsx(nx,{profile:O,isCurrentUser:i,onAvatarChange:H,onCoverChange:G,onEditProfile:()=>T(!0),uploadingAvatar:x,uploadingCover:C,stats:J}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{className:`pb-4 px-1 ${m==="profile"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("profile"),children:"Profile"}),a.jsx("button",{className:`pb-4 px-1 ${m==="posts"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("posts"),children:"Posts"}),a.jsx("button",{className:`pb-4 px-1 ${m==="connections"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>v("connections"),children:"Connections"})]})}),d&&a.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${d.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d.text}),m==="profile"&&a.jsx("div",{className:"space-y-6",children:i&&$?a.jsx(ix,{profile:O,onProfileChange:E,onSubmit:I,onCancel:()=>T(!1),updating:c,spiritualGiftOptions:U,ministryInterestOptions:Y}):a.jsx(sx,{profile:O})}),m==="posts"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Posts"}),i&&a.jsx(de,{to:"/create-post",className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"New Post"})]}),a.jsx(ax,{posts:f,loading:_,isCurrentUser:i})]}),m==="connections"&&a.jsx(ox,{followers:k,following:w,currentUserId:n,onFollowToggle:z,activeConnectionTab:D,onTabChange:q})]})};le.extend(Xf);const cx=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[s,i]=y.useState("all"),{user:o}=He();y.useEffect(()=>{(async()=>{try{n(!0);const{data:d}=await R.from("profiles").select("church_id").eq("id",o==null?void 0:o.id).single();if(d!=null&&d.church_id){const{data:h,error:m}=await R.from("prayer_requests").select("*").eq("church_id",d.church_id).eq("is_private",!1).order("created_at",{ascending:!1});if(m)throw m;t(h||[])}}catch(d){console.error("Error fetching prayer requests:",d)}finally{n(!1)}})()},[]);const l=e.filter(u=>s==="all"?!0:s==="mine"?u.user_id===(o==null?void 0:o.id):s==="others"?u.user_id!==(o==null?void 0:o.id):!0),c=async u=>{alert(`You prayed for request #${u}. In the full app, this would be recorded.`)};return a.jsxs("div",{className:"space-y-4 pb-16 md:pb-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prayer Requests"}),a.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-sm",title:"Add new prayer request",children:a.jsx(Qe,{})})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-4",children:[a.jsx("button",{onClick:()=>i("all"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All Requests"}),a.jsx("button",{onClick:()=>i("mine"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="mine"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Requests"}),a.jsx("button",{onClick:()=>i("others"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${s==="others"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Others' Requests"})]})}),r&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!r&&a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[a.jsx(_t,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No prayer requests found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s!=="all"?`No ${s==="mine"?"personal":"others"} prayer requests found.`:"Share your first prayer request with your church community."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(Qe,{className:"-ml-1 mr-2 h-5 w-5"}),"Add Prayer Request"]})})]}):l.map(u=>a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:[u.is_anonymous?"Anonymous":"User","  ",le(u.created_at).fromNow()]})]})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-gray-700",children:u.description})}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("button",{onClick:()=>c(u.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(_t,{className:"mr-1"}),"I Prayed"]}),a.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[a.jsx(Zo,{className:"text-red-500 mr-1"}),a.jsx("span",{children:"12 prayers"})]})]})]})},u.id))})]})},ux=()=>{const{user:e}=He(),t=et(),[r,n]=y.useState(""),[s,i]=y.useState([]),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[m,v]=y.useState(null),[x,b]=y.useState(!1),[C,p]=y.useState({name:"",location:"",description:""}),[f,g]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const L=localStorage.getItem("userChurchId");if(L){const{data:D}=await R.from("churches").select("name").eq("id",L).single();if(D){t("/dashboard");return}}const{data:$,error:T}=await R.from("profiles").select("church_id").eq("id",e.id).single();!T&&($!=null&&$.church_id)&&(localStorage.setItem("userChurchId",$.church_id),t("/dashboard"))}catch(L){console.error("Error checking user church:",L)}})()},[e,t]);const w=async _=>{if(_.preventDefault(),!!r.trim()){l(!0),v(null);try{let L=R.from("churches").select("*");r&&(L=L.ilike("name",`%${r}%`));const{data:$,error:T}=await L;if(T)throw T;i($||[]),u(!0)}catch(L){console.error("Error searching churches:",L),v("Failed to search churches. Please try again.")}finally{l(!1)}}},S=async _=>{h(!0),v(null);try{const{data:L,error:$}=await R.from("churches").select("name").eq("id",_).single();if($)throw $;const{error:T}=await R.from("profiles").update({church_id:_}).eq("id",e.id);if(T)throw T;localStorage.setItem("userChurchId",_),v(null),alert(`You've successfully joined ${L.name}!`),t("/dashboard")}catch(L){console.error("Error joining church:",L),v("Failed to join church. Please try again."),h(!1)}},k=_=>{const{name:L,value:$}=_.target;p({...C,[L]:$})},N=async _=>{if(_.preventDefault(),!C.name){v("Church name is required");return}g(!0),v(null);try{const L="admin",{data:$,error:T}=await R.from("churches").insert([{name:C.name,location:C.location,description:C.description,created_by:e.id}]).select().single();if(T)throw T;const{error:D}=await R.from("profiles").update({church_id:$.id,user_role:L}).eq("id",e.id);if(D)throw D;localStorage.setItem("userChurchId",$.id),v(null),alert(`You've successfully created ${$.name}!`),t("/dashboard")}catch(L){console.error("Error creating church:",L),v("Failed to create church. Please try again.")}finally{g(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Find or Create a Church"}),m&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Search for your church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Enter the name of your church to find and join it"})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("form",{onSubmit:w,className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search by church name",className:"pl-10 pr-4 py-2 border rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:r,onChange:_=>n(_.target.value)})]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center justify-center",disabled:o,children:o?a.jsx(el,{className:"animate-spin"}):"Search"})]}),c&&a.jsx("div",{className:"mt-4",children:s.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Sn,{className:"text-gray-400 text-4xl mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-600",children:['No churches found matching "',r,'"']}),a.jsxs("button",{className:"mt-4 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto",onClick:()=>b(!0),children:[a.jsx(Qe,{className:"mr-1"}),"Create your church"]})]}):a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-gray-700 mb-2",children:[s.length," ",s.length===1?"church":"churches"," found"]}),a.jsx("div",{className:"space-y-3",children:s.map(_=>a.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:_.name}),_.location&&a.jsx("div",{className:"text-gray-600 text-sm",children:_.location})]}),a.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",onClick:()=>S(_.id),disabled:d,children:d?"Joining...":"Join"})]}),_.description&&a.jsx("div",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:_.description})]},_.id))}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Don't see your church?"}),a.jsxs("button",{className:"mt-1 text-blue-600 hover:text-blue-800 font-medium flex items-center justify-center mx-auto",onClick:()=>b(!0),children:[a.jsx(Qe,{className:"mr-1"}),"Create your church"]})]})]})})]})]}),x&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Create a new church"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Fill out the form below to create your church"})]}),a.jsx("div",{className:"p-4",children:a.jsx("form",{onSubmit:N,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Church Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:C.name,onChange:k,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),a.jsx("input",{type:"text",id:"location",name:"location",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:C.location,onChange:k,placeholder:"City, State or full address"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{id:"description",name:"description",rows:"3",className:"mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:C.description,onChange:k,placeholder:"Brief description of your church"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>b(!1),children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(el,{className:"animate-spin mr-2"}),"Creating..."]}):"Create Church"})]})]})})})]})]})},vn=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Mi={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#","C#":"C#","D#":"D#","F#":"F#","G#":"G#","A#":"A#"},dx=(e,t)=>{if(!e||t===0)return e;const r=/^([A-G][#b]?)(.*)$/,n=e.match(r);if(!n)return e;const[s,i,o]=n;let l=i;Mi[i]&&(l=Mi[i]);const c=vn.indexOf(l);if(c===-1)return e;const u=(c+t)%12,d=u<0?u+12:u;return vn[d]+o},hx=(e,t)=>{const r=e.replace("m",""),n=t.replace("m",""),s=Mi[r]||r,i=Mi[n]||n,o=vn.indexOf(s),l=vn.indexOf(i);return o===-1||l===-1?0:(l-o+12)%12},fx=(e,t,r)=>{const n=hx(t,r);return dx(e,n)},Bu=(e,t,r)=>{if(!e||!t||!r||t===r)return e;const n=/\b([A-G][#b]?(?:m|maj|min|aug|dim|sus|add|maj7|m7|7|9|11|13|6|5)?(?:\/[A-G][#b]?)?)\b/g;return e.replace(n,s=>fx(s,t,r))},Zf=()=>{const e=vn.map(r=>r),t=vn.map(r=>`${r}m`);return[...e,...t]},em=async e=>{try{const{data:t,error:r}=await R.from("songs").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Song not found");t.tags=[];try{const{error:n}=await R.from("song_tag_assignments").select("id").limit(1);if(!n){const{data:s}=await R.from("song_tag_assignments").select("tag_id").eq("song_id",e);if(s&&s.length>0){const i=s.map(l=>l.tag_id),{data:o}=await R.from("song_tags").select("id, name, color").in("id",i);o&&o.length>0&&(t.tags=o)}}}catch(n){console.warn("Could not fetch song tags:",n)}return t}catch(t){throw console.error("Error in fetchSongById:",t),t}},mx=async e=>{var c;const{data:t}=await R.auth.getUser();if(!((c=t==null?void 0:t.user)!=null&&c.id))throw new Error("User not authenticated");const{data:r,error:n}=await R.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;if(!r.church_id)throw new Error("User not associated with a church");const s={...e,church_id:r.church_id,created_by:t.user.id},i=s.tags||[];delete s.tags;const{data:o,error:l}=await R.from("songs").insert(s).select().single();if(l)throw l;if(i.length>0&&o)try{await tm(o.id,i)}catch(u){console.warn("Could not assign tags to song:",u)}return o},px=async(e,t)=>{const r=t.tags||[],n={...t};delete n.tags;const{data:s,error:i}=await R.from("songs").update(n).eq("id",e).select().single();if(i)throw i;if(r.length>0)try{const{error:o}=await R.from("song_tag_assignments").select("id").limit(1);o||(await R.from("song_tag_assignments").delete().eq("song_id",e),await tm(e,r))}catch(o){console.warn("Could not update song tags:",o)}return s},gx=async e=>{const{error:t}=await R.from("songs").delete().eq("id",e);if(t)throw t},vx=async()=>{try{const{error:e}=await R.from("song_tags").select("id").limit(1);if(e)return[];const{data:t,error:r}=await R.from("song_tags").select("*").order("name",{ascending:!0});if(r)throw r;return t||[]}catch(e){return console.warn("Could not fetch song tags:",e),[]}},yx=async e=>{var o;const{data:t}=await R.auth.getUser();if(!((o=t==null?void 0:t.user)!=null&&o.id))throw new Error("User not authenticated");const{data:r,error:n}=await R.from("profiles").select("church_id").eq("id",t.user.id).single();if(n)throw n;const{data:s,error:i}=await R.from("song_tags").insert({...e,church_id:r.church_id,created_by:t.user.id}).select().single();if(i)throw i;return s},tm=async(e,t)=>{const n=t.map(i=>typeof i=="object"?i.id:i).map(i=>({song_id:e,tag_id:i}));if(n.length===0)return;const{error:s}=await R.from("song_tag_assignments").insert(n);if(s)throw s},xx=async(e,t,r)=>{const n=["chord-charts","sheet-music","backing-tracks"];if(!n.includes(r))throw new Error(`Invalid attachment type. Must be one of: ${n.join(", ")}`);const{data:s,error:i}=await R.from("songs").select("church_id").eq("id",e).single();if(i)throw i;const o=s.church_id,l=`${Date.now()}_${t.name}`,c=`${o}/${e}/${r}/${l}`,{data:u,error:d}=await R.storage.from("song-attachments").upload(c,t,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:h}=R.storage.from("song-attachments").getPublicUrl(u.path);return h.publicUrl},Vu=async e=>{try{const{data:t,error:r}=await R.from("songs").select("church_id").eq("id",e).single();if(r)throw r;const s=`${t.church_id}/${e}`,i=["chord-charts","sheet-music","backing-tracks"],o={};for(const l of i){const c=`${s}/${l}`,{data:u,error:d}=await R.storage.from("song-attachments").list(c);if(d&&d.message!=="The resource was not found")throw d;o[l]=(u||[]).map(h=>({...h,url:R.storage.from("song-attachments").getPublicUrl(`${c}/${h.name}`).data.publicUrl}))}return o}catch(t){return console.warn("Could not list song attachments:",t),{"chord-charts":[],"sheet-music":[],"backing-tracks":[]}}},wx=async(e,t,r)=>{try{const{data:n,error:s}=await R.from("songs").select("church_id").eq("id",e).single();if(s)throw s;const o=`${n.church_id}/${e}/${t}/${r}`,{error:l}=await R.storage.from("song-attachments").remove([o]);if(l)throw l}catch(n){throw console.warn("Could not delete song attachment:",n),n}};var rm={exports:{}},bx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jx=bx,_x=jx;function nm(){}function sm(){}sm.resetWarningCache=nm;var Nx=function(){function e(n,s,i,o,l,c){if(c!==_x){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sm,resetWarningCache:nm};return r.PropTypes=r,r};rm.exports=Nx();var Sx=rm.exports;const Zn=Di(Sx),ic=({content:e,className:t=""})=>{if(!e)return null;const r=e.split(`
`),n=[];for(let s=0;s<r.length;s++){const i=r[s],o=s+1<r.length?r[s+1]:null;Hu(i)&&o&&!Hu(o)?(n.push({type:"chord-lyric-pair",chords:i,lyrics:o}),s++):n.push({type:"text",content:i})}return a.jsx("div",{className:`font-mono text-sm ${t}`,children:n.map((s,i)=>s.type==="chord-lyric-pair"?a.jsxs("div",{className:"mb-1",children:[a.jsx("div",{className:"text-blue-600 font-bold whitespace-pre",children:s.chords}),a.jsx("div",{className:"whitespace-pre",children:s.lyrics})]},i):s.content.trim().startsWith("[")&&s.content.trim().endsWith("]")?a.jsx("div",{className:"font-bold text-gray-700 mt-4 mb-2",children:s.content},i):s.content.trim()===""?a.jsx("div",{className:"h-4"},i):a.jsx("div",{className:"whitespace-pre mb-1",children:s.content},i))})};function Hu(e){if(!e||e.trim()===""||!/\s{2,}/.test(e))return!1;const r=/^[A-G][#b]?(m|maj|min|aug|dim|sus|add|2|4|5|6|7|9|11|13|-|\+|\/)*/,s=e.split(/\s{2,}/).filter(o=>o.trim()!=="");return s.length===0?!1:s.filter(o=>r.test(o.trim())).length>=s.length/2}ic.propTypes={content:Zn.string,className:Zn.string};const im=({selectedTags:e=[],onChange:t,readOnly:r=!1})=>{const[n,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,m]=y.useState(""),[v,x]=y.useState("#3B82F6");y.useEffect(()=>{(async()=>{try{o(!0);const f=await vx();s(f)}catch(f){console.error("Error loading tags:",f),c("Failed to load tags")}finally{o(!1)}})()},[]);const b=p=>{if(r)return;const f=e.some(w=>w.id===p.id);let g;f?g=e.filter(w=>w.id!==p.id):g=[...e,p],t(g)},C=async p=>{if(p.preventDefault(),!!h.trim())try{o(!0);const f=await yx({name:h.trim(),color:v});s([...n,f]),m(""),x("#3B82F6"),d(!1),t([...e,f])}catch(f){console.error("Error creating tag:",f),c("Failed to create tag")}finally{o(!1)}};return i&&n.length===0?a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading tags..."}):l&&n.length===0?a.jsx("div",{className:"text-red-500 text-sm",children:l}):a.jsxs("div",{className:"song-tags",children:[e.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"text-sm text-gray-500 mb-1 flex items-center",children:[a.jsx(Ry,{className:"mr-1"})," Selected Tags:"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.map(p=>a.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${p.color}20`,color:p.color,borderColor:p.color},children:[p.name,!r&&a.jsx("button",{type:"button",onClick:()=>b(p),className:"ml-1 focus:outline-none",children:a.jsx(Ii,{size:10})})]},p.id))})]}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Available Tags:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.map(p=>{const f=e.some(g=>g.id===p.id);return a.jsx("button",{type:"button",onClick:()=>b(p),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors ${f?"bg-opacity-80 text-white":"bg-opacity-20"}`,style:{backgroundColor:f?p.color:`${p.color}20`,color:f?"white":p.color},children:p.name},p.id)}),a.jsxs("button",{type:"button",onClick:()=>d(!0),className:"inline-flex items-center px-2 py-1 border border-dashed border-gray-300 rounded-full text-xs font-medium text-gray-500 hover:text-gray-700 hover:border-gray-400",children:[a.jsx(Qe,{className:"mr-1",size:10}),"New Tag"]})]})]}),u&&a.jsxs("div",{className:"mt-4 p-3 border border-gray-200 rounded-md bg-gray-50",children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Create New Tag"}),a.jsxs("form",{onSubmit:C,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagName",className:"block text-xs text-gray-500",children:"Tag Name"}),a.jsx("input",{type:"text",id:"tagName",value:h,onChange:p=>m(p.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter tag name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tagColor",className:"block text-xs text-gray-500",children:"Tag Color"}),a.jsxs("div",{className:"flex mt-1",children:[a.jsx("input",{type:"color",id:"tagColor",value:v,onChange:p=>x(p.target.value),className:"h-8 w-8 border border-gray-300 rounded"}),a.jsx("input",{type:"text",value:v,onChange:p=>x(p.target.value),className:"ml-2 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"#HEX"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-3 py-1 border border-transparent rounded-md text-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i||!h.trim(),children:"Create"})]})]})]})]})]})},kx=({songId:e,readOnly:t=!1})=>{const[r,n]=y.useState({"chord-charts":[],"sheet-music":[],"backing-tracks":[]}),[s,i]=y.useState(!0),[o,l]=y.useState(!1),[c,u]=y.useState(null),d=y.useRef(null),[h,m]=y.useState(null),v=[{value:"chord-charts",label:"Chord Charts",icon:a.jsx(An,{})},{value:"sheet-music",label:"Sheet Music",icon:a.jsx(gt,{})},{value:"backing-tracks",label:"Backing Tracks",icon:a.jsx(Fu,{})}];y.useEffect(()=>{(async()=>{if(e)try{i(!0);const w=await Vu(e);n(w)}catch(w){console.error("Error loading attachments:",w),u("Failed to load attachments")}finally{i(!1)}})()},[e]);const x=async g=>{const w=g.target.files[0];if(!(!w||!h))try{l(!0),await xx(e,w,h);const S=await Vu(e);n(S),d.current&&(d.current.value="")}catch(S){console.error("Error uploading file:",S),u("Failed to upload file")}finally{l(!1),m(null)}},b=async(g,w)=>{try{await wx(e,g,w),n(S=>({...S,[g]:S[g].filter(k=>k.name!==w)}))}catch(S){console.error("Error deleting file:",S),u("Failed to delete file")}},C=g=>{m(g),setTimeout(()=>{d.current&&d.current.click()},100)},p=g=>{switch(g.split(".").pop().toLowerCase()){case"pdf":return a.jsx(An,{className:"text-red-500"});case"doc":case"docx":return a.jsx(An,{className:"text-blue-500"});case"png":case"jpg":case"jpeg":return a.jsx(An,{className:"text-green-500"});case"mp3":case"wav":case"m4a":return a.jsx(Fu,{className:"text-purple-500"});default:return a.jsx(An,{className:"text-gray-500"})}};if(s)return a.jsx("div",{className:"text-gray-500 text-sm",children:"Loading attachments..."});const f=Object.values(r).some(g=>g.length>0);return a.jsxs("div",{className:"song-attachments",children:[c&&a.jsx("div",{className:"mb-3 text-sm text-red-500",children:c}),a.jsx("input",{type:"file",ref:d,className:"hidden",onChange:x,disabled:o}),!t&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Add Attachment:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(g=>a.jsxs("button",{type:"button",onClick:()=>C(g.value),disabled:o,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o&&h===g.value?a.jsx("span",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-gray-500 rounded-full"}):a.jsxs(a.Fragment,{children:[g.icon,a.jsx(Qe,{className:"ml-1 mr-1",size:10})]}),g.label]},g.value))})]}),f?a.jsx("div",{className:"space-y-4",children:v.map(g=>{const w=r[g.value]||[];return w.length===0?null:a.jsxs("div",{className:"attachment-section",children:[a.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[g.icon,a.jsx("span",{className:"ml-2",children:g.label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",w.length,")"]})]}),a.jsx("ul",{className:"divide-y divide-gray-200 border border-gray-200 rounded-md overflow-hidden",children:w.map(S=>a.jsxs("li",{className:"px-4 py-3 bg-white flex items-center justify-between hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center",children:[p(S.name),a.jsx("span",{className:"ml-2 text-sm text-gray-600 truncate max-w-xs",children:S.name})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("a",{href:S.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:"Download",children:a.jsx(by,{})}),!t&&a.jsx("button",{type:"button",onClick:()=>b(g.value,S.name),className:"text-red-500 hover:text-red-700",title:"Delete",children:a.jsx(nc,{})})]})]},S.name))})]},g.value)})}):a.jsxs("div",{className:"text-sm text-gray-500 p-4 bg-gray-50 text-center rounded-md",children:["No attachments available for this song.",!t&&a.jsx("p",{className:"mt-1 text-xs",children:"Use the buttons above to add chord charts, sheet music, or backing tracks."})]})]})},Cx=()=>{const{id:e}=Ss(),t=et(),r=Or(),n=new URLSearchParams(r.search),s=n.get("serviceKey"),i=n.get("eventId"),o=n.get("eventSongId");n.get("notes");const l=n.get("isDone"),[c,u]=y.useState(null),[d,h]=y.useState(null),[m,v]=y.useState(!0),[x,b]=y.useState(""),[C,p]=y.useState(""),[f,g]=y.useState(null),[w,S]=y.useState("song"),[k,N]=y.useState(!1),[_,L]=y.useState(!1),[$,T]=y.useState(!1),[D,q]=y.useState(l==="true"),O=Zf();y.useEffect(()=>{(async()=>{if(i)try{const{data:P,error:I}=await R.from("events").select("title, start_time").eq("id",i).single();if(I)throw I;h(P)}catch(P){console.error("Error fetching service details:",P)}})()},[i]),y.useEffect(()=>{(async()=>{try{v(!0);const P=await em(e);u(P);const I=s||P.default_key||"C";if(b(I),s&&P.default_key&&s!==P.default_key&&P.chords){const G=P.chords.split(`
`).map(z=>Bu(z,P.default_key,s)).join(`
`);p(G)}else p(P.chords||"")}catch(P){console.error("Error fetching song:",P),g("Could not load the song. Please try again.")}finally{v(!1)}})()},[e,s]);const E=j=>{if(!c||!c.chords)return;const P=c.default_key||"C";if(j===P){p(c.chords),b(j);return}const H=c.chords.split(`
`).map(G=>Bu(G,P,j)).join(`
`);p(H),b(j)},A=()=>{t(i?`/services/${i}`:"/songs")},F=async()=>{if(!(!o||!i))try{T(!0),q(j=>!j);try{const{error:j}=await R.from("event_songs").update({is_done:!D}).eq("id",o);if(j)throw console.log("Could not update is_done in database:",j),j;t(`/services/${i}`)}catch(j){throw console.log("Error updating is_done field:",j),q(P=>!P),j}}catch(j){console.error("Error updating song status:",j),alert("Failed to update song status. Please try again.")}finally{T(!1)}};return m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{className:"text-red-500",children:f}),a.jsxs("button",{onClick:A,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(oi,{className:"mr-2"})," Back"]})]}):c?a.jsxs("div",{className:"pb-[100px] flex flex-col min-h-screen bg-white px-4 md:px-6",children:[a.jsx("div",{className:"py-2 border-b border-gray-200",children:a.jsxs("button",{onClick:A,className:"text-gray-600 flex items-center","aria-label":"Back",children:[a.jsx(oi,{className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Back to Service"})]})}),a.jsx("div",{className:"py-3 border-b border-gray-200",children:a.jsx("h1",{className:"text-xl font-bold",children:c.title})}),d&&a.jsx("div",{className:"bg-blue-50 py-2 border-b border-blue-100",children:a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx(hy,{className:"text-blue-500 mr-2"}),a.jsx("span",{children:"Viewing for service: "}),a.jsx("span",{className:"text-blue-600 ml-1 font-medium",children:d.title})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex",children:[a.jsxs("button",{onClick:()=>S("song"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${w==="song"?"border-blue-500 text-blue-600":"border-transparent text-gray-500"}`,"aria-pressed":w==="song",children:[a.jsx(gt,{className:"inline mr-1"}),"Song"]}),a.jsxs("button",{onClick:()=>S("attachments"),className:`flex-1 py-2 text-center border-b-2 font-medium text-sm ${w==="attachments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500"}`,"aria-pressed":w==="attachments",children:[a.jsx($y,{className:"inline mr-1"}),"Attachments"]})]})}),w==="song"?a.jsxs("div",{className:"flex-1",children:[c.chords&&a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center py-3",children:[a.jsxs("h2",{className:"text-base font-medium flex items-center",children:[a.jsx(gt,{className:"mr-2"}),"Chord Chart"]}),a.jsxs("button",{onClick:()=>L(!_),className:"text-blue-600 text-sm","aria-expanded":_,children:[a.jsx(_y,{className:"inline mr-1"}),"Transpose"]})]}),_&&a.jsx("div",{className:"py-3 bg-gray-50 border-y border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"keySelect",className:"block text-xs font-medium text-gray-500 mb-1",children:"Transpose to:"}),a.jsx("select",{id:"keySelect",value:x,onChange:j=>E(j.target.value),className:"w-20 px-1 py-1 text-sm border border-gray-300 rounded-md",children:O.map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[a.jsxs("div",{children:["Original Key: ",a.jsx("span",{className:"font-medium",children:c.default_key||"Not set"})]}),x!==c.default_key&&a.jsx("button",{onClick:()=>E(c.default_key),className:"text-blue-600 underline",children:"Reset"})]})]})}),a.jsx("div",{className:"py-3 overflow-x-auto whitespace-nowrap",children:a.jsx(ic,{content:C})})]}),c.lyrics&&a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200",children:"Lyrics"}),a.jsx("div",{className:"py-3 break-words",children:c.lyrics.split(`
`).map((j,P)=>a.jsx("div",{children:j||a.jsx("br",{})},P))})]}),a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsxs("button",{onClick:()=>N(!k),className:"flex w-full items-center justify-between py-3 text-left","aria-expanded":k,children:[a.jsx("span",{className:"font-medium",children:"Song Information"}),k?a.jsx(vy,{}):a.jsx(my,{})]}),k&&a.jsxs("div",{className:"py-3 border-t border-gray-200",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Artist"}),a.jsx("p",{className:"font-medium",children:c.artist||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Original Key"}),a.jsx("p",{className:"font-medium",children:c.default_key||"Not specified"})]}),c.tempo&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Tempo"}),a.jsxs("p",{className:"font-medium",children:[c.tempo," BPM"]})]})]}),c.tags&&c.tags.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Tags"}),a.jsx(im,{selectedTags:c.tags,readOnly:!0})]})]})]}),c.notes&&a.jsxs("div",{className:"border-b border-gray-200",children:[a.jsx("h2",{className:"text-base font-medium py-3 border-b border-gray-200",children:"Notes"}),a.jsx("div",{className:"py-3 break-words",children:c.notes.split(`
`).map((j,P)=>a.jsx("div",{children:j||a.jsx("br",{})},P))})]})]}):a.jsx("div",{className:"py-3",children:a.jsx(kx,{songId:e})}),i&&o&&a.jsx("div",{className:"fixed bottom-16 left-0 right-0 flex justify-center z-20 mb-4",children:a.jsxs("button",{onClick:F,disabled:$,className:"flex items-center justify-center px-6 py-3 bg-green-500 text-white font-medium rounded-full shadow-md hover:bg-green-600 transition-colors max-w-xs",children:[a.jsx(an,{className:"mr-2"}),"Mark as ",D?"Not Done":"Done"]})})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("p",{children:"Song not found."}),a.jsxs("button",{onClick:A,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(oi,{className:"mr-2"})," Back"]})]})},am=({value:e,onChange:t,rows:r=10})=>{const[n,s]=y.useState(!1),[i,o]=y.useState(!1),l=["C","G","D","A","E","F","Am","Em","Dm","G7","C7","D7","Cmaj7","Fmaj7","Gsus4"],c=`[Verse 1]
C        G        Am       F
Here are some example chords above lyrics
C             G              Am  F
Words should be aligned with the chords above

[Chorus]
F         G       C
This is how a chorus might look
F         G       Am      G
With more chords and lyrics here

[Bridge]
Am   G   F   C
Simple progression
`,u=m=>{if(!e)t(m+"  ");else{const v=document.getElementById("chord-editor").selectionStart,x=e.substring(0,v),b=e.substring(v);t(x+m+"  "+b),o(!0)}},d=m=>{const v=`
[${m}]
`;if(!e)t(v);else{const x=document.getElementById("chord-editor").selectionStart,b=e.substring(0,x),C=e.substring(x);t(b+v+C)}o(!0)},h=m=>{t(m.target.value),i||o(!0)};return y.useEffect(()=>{},[e,i]),a.jsxs("div",{className:"chord-editor-container",children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Quick Insert Chords:"}),a.jsxs("button",{type:"button",onClick:()=>s(!n),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center",children:[a.jsx(Oy,{className:"mr-1"}),n?"Hide Help":"Show Help"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:l.map(m=>a.jsx("button",{type:"button",onClick:()=>u(m),className:"inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",children:m},m))})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Add Section:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:["Verse","Chorus","Bridge","Intro","Outro","Pre-Chorus"].map(m=>a.jsxs("button",{type:"button",onClick:()=>d(m),className:"inline-flex items-center px-2 py-1 border border-gray-300 text-xs font-medium rounded shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx(Qe,{className:"mr-1 h-3 w-3"}),m]},m))})]}),n&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Chord Chart Formatting Help"}),a.jsx("p",{className:"text-xs text-blue-700 mb-2",children:"Format your chord chart by placing chords above lyrics with spaces between them. Use section markers like [Verse] or [Chorus] to organize your song."}),a.jsx("div",{className:"bg-white p-2 rounded text-xs font-mono",children:a.jsx("pre",{className:"whitespace-pre-wrap",children:c})}),a.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Tip: Make sure to keep chord names short (C, G, Am, etc.) and use spaces to align them with lyrics."})]}),a.jsx("textarea",{id:"chord-editor",value:e,onChange:h,rows:r,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm font-mono",placeholder:"Enter chords here..."}),a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Use monospaced formatting for chords. Press Tab for indentation."})]})};am.propTypes={value:Zn.string,onChange:Zn.func.isRequired,rows:Zn.number};const qu=()=>{const e=et(),{id:t}=Ss(),r=!!t,[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState({title:"",artist:"",default_key:"C",tempo:"",lyrics:"",chords:"",notes:"",tags:[]}),[h,m]=y.useState(!1),[v,x]=y.useState({}),b=Zf();y.useEffect(()=>{r&&C()},[t]);const C=async()=>{try{s(!0);const _=await em(t);d({title:_.title||"",artist:_.artist||"",default_key:_.default_key||"C",tempo:_.tempo||"",lyrics:_.lyrics||"",chords:_.chords||"",notes:_.notes||"",tags:_.tags||[]}),_.chords&&m(!0)}catch(_){console.error("Error fetching song:",_),c("Could not load the song. Please try again.")}finally{s(!1)}},p=()=>{const _={};return u.title.trim()||(_.title="Song title is required"),u.chords&&!u.default_key&&(_.default_key="Default key is required when providing chords"),u.tempo&&(isNaN(u.tempo)||u.tempo<20||u.tempo>300)&&(_.tempo="Tempo must be a number between 20 and 300"),x(_),Object.keys(_).length===0},f=_=>{const{name:L,value:$}=_.target;d(T=>({...T,[L]:$})),v[L]&&x(T=>{const D={...T};return delete D[L],D})},g=_=>{d(L=>({...L,chords:_}))},w=_=>{d(L=>({...L,tags:_}))},S=()=>{m(!h)},k=async _=>{if(_.preventDefault(),!!p())try{o(!0);const L={...u,tempo:u.tempo===""?null:Number(u.tempo)};if(r)await px(t,L),e(`/songs/${t}`);else{const $=await mx(L);e(`/songs/${$.id}`)}}catch(L){console.error("Error saving song:",L),c(L.message||"Failed to save the song. Please try again.")}finally{o(!1)}},N=async()=>{if(!(!r||!window.confirm("Are you sure you want to delete this song? This action cannot be undone.")))try{o(!0),await gx(t),e("/songs")}catch(L){console.error("Error deleting song:",L),c("Failed to delete the song. Please try again.")}finally{o(!1)}};return n?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>e(r?`/songs/${t}`:"/songs"),className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[a.jsx(oi,{className:"mr-1"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-center flex-1 mx-4",children:r?"Edit Song":"Add New Song"}),r&&a.jsx("button",{onClick:N,className:"text-red-600 hover:text-red-800",title:"Delete song",disabled:i,children:a.jsx(nc,{size:20})})]}),l&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ny,{className:"h-5 w-5 text-red-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:l})})]})}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",name:"title",value:u.title,onChange:f,className:`mt-1 block w-full border ${v.title?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),v.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.title})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"artist",className:"block text-sm font-medium text-gray-700",children:"Artist / Composer"}),a.jsx("input",{type:"text",id:"artist",name:"artist",value:u.artist,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"default_key",className:"block text-sm font-medium text-gray-700",children:["Default Key ",u.chords&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"default_key",name:"default_key",value:u.default_key,onChange:f,className:`mt-1 block w-full pl-3 pr-10 py-2 text-base border ${v.default_key?"border-red-300":"border-gray-300"} focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md`,children:[a.jsx("option",{value:"",children:"Select a key"}),b.map(_=>a.jsx("option",{value:_,children:_},_))]}),v.default_key&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.default_key})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"tempo",className:"block text-sm font-medium text-gray-700",children:"Tempo (BPM)"}),a.jsx("input",{type:"number",id:"tempo",name:"tempo",value:u.tempo,onChange:f,min:"20",max:"300",className:`mt-1 block w-full border ${v.tempo?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`}),v.tempo?a.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.tempo}):a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Typical range: 60-180 BPM"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Tags"}),a.jsx(im,{selectedTags:u.tags,onChange:w})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Chord Chart"}),u.chords&&a.jsx("button",{type:"button",onClick:S,className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Sy,{className:"mr-1"})," Hide Preview"]}):a.jsxs(a.Fragment,{children:[a.jsx(rc,{className:"mr-1"})," Show Preview"]})})]}),h&&u.chords&&a.jsxs("div",{className:"mb-4 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),a.jsx(ic,{content:u.chords})]}),a.jsx(am,{value:u.chords,onChange:g,rows:10})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Lyrics"}),a.jsx("textarea",{id:"lyrics",name:"lyrics",value:u.lyrics,onChange:f,rows:15,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter lyrics here..."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: Include section markers like [Verse], [Chorus], etc. for better organization."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Additional Notes"}),a.jsx("textarea",{id:"notes",name:"notes",value:u.notes,onChange:f,rows:4,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter any additional notes, performance instructions, etc."}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Include notes about song structure, performance tips, or arrangement details."})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gf,{className:"mr-2"})," Save Song"]})})})]})]})},Ex=()=>{const{id:e}=Ss(),t=et(),[r,n]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(""),[d,h]=y.useState(""),[m,v]=y.useState(!1),[x,b]=y.useState(null),[C,p]=y.useState(new Set);y.useEffect(()=>{(async()=>{try{l(!0);const{data:N,error:_}=await R.from("events").select("*").eq("id",e).single();if(_)throw _;if(n(N),N!=null&&N.church_id){const{data:T,error:D}=await R.from("churches").select("name").eq("id",N.church_id).single();!D&&T&&u(T.name)}if(N!=null&&N.team_id){const{data:T,error:D}=await R.from("worship_teams").select("name").eq("id",N.team_id).single();!D&&T&&h(T.name)}const{data:L,error:$}=await R.from("event_songs").select(`
            id,
            song_order,
            key,
            notes,
            is_done,
            songs (
              id,
              title,
              artist,
              default_key
            )
          `).eq("event_id",e).order("song_order");if($)throw console.error("Error fetching songs:",$),$;if(console.log("Songs data:",L),L){try{if(L.some(D=>"is_done"in D)){const D=new Set(L.filter(q=>q.is_done).map(q=>q.id));p(D)}}catch{console.log("No is_done field yet, using local state only")}i(L)}else i([])}catch(N){console.error("Error fetching service details:",N)}finally{l(!1)}})()},[e]);const f=k=>{if(!x)try{const N=s.find(L=>L.id===k);if(!N)return;const _=C.has(k);t(`/songs/${N.songs.id}?serviceKey=${encodeURIComponent(N.key||N.songs.default_key)}&eventId=${e}&eventSongId=${k}&notes=${encodeURIComponent(N.notes||"")}&isDone=${_}`)}catch(N){console.error("Error navigating to song details:",N),alert("Could not navigate to song details. Please try again.")}},g=()=>{t(`/services/edit/${e}`)},w=async(k,N)=>{N&&N.stopPropagation();try{b(k),p(_=>{const L=new Set(_);return L.has(k)?L.delete(k):L.add(k),L});try{const{error:_}=await R.from("event_songs").update({is_done:!C.has(k)}).eq("id",k);_&&console.log("Could not update is_done in database:",_)}catch(_){console.log("Error updating is_done field:",_)}}catch(_){console.error("Error updating song status:",_),alert("Failed to update song status. Please try again."),p(L=>{const $=new Set(L);return $.has(k)?$.delete(k):$.add(k),$})}finally{b(null)}},S=async()=>{if(window.confirm("Are you sure you want to delete this service? This action cannot be undone."))try{v(!0);const{error:k}=await R.from("event_songs").delete().eq("event_id",e);if(k)throw k;const{error:N}=await R.from("events").delete().eq("id",e);if(N)throw N;t("/calendar")}catch(k){console.error("Error deleting service:",k),alert("Error deleting service. Please try again.")}finally{v(!1)}};return o?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?a.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:g,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Edit service",children:a.jsx(da,{size:20})}),a.jsx("button",{onClick:S,disabled:m,className:"p-2 text-red-600 hover:bg-red-50 rounded-full disabled:opacity-50",title:"Delete service",children:a.jsx(nc,{size:20})})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"space-y-4",children:[r.description&&a.jsx("p",{className:"text-gray-700",children:r.description}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(fr,{className:"mt-1 text-gray-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:le(r.start_time).format("dddd, MMMM D, YYYY")}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(yy,{className:"mr-1"}),le(r.start_time).format("h:mm A")," - ",le(r.end_time).format("h:mm A")]})]})]}),r.location&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ey,{className:"mt-1 text-gray-500"}),a.jsx("div",{children:r.location})]}),c&&a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Sn,{className:"mt-1 text-gray-500"}),a.jsx("div",{children:c})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(gt,{className:"mr-2"})," Service Songs"]}),s.length===0?a.jsx("div",{className:"text-center py-6 text-gray-500",children:"No songs have been added to this service."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 text-sm text-gray-600",children:["Total songs: ",s.length]}),a.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(k=>{var _,L;const N=C.has(k.id);return a.jsx("li",{className:`py-4 ${N?"bg-green-50":""} hover:bg-gray-50`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"h-8 w-8 flex items-center justify-center bg-blue-100 text-blue-800 rounded-full mr-3 font-medium",children:k.song_order}),a.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>f(k.id),children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`font-medium ${N?"line-through text-gray-500":""}`,children:((_=k.songs)==null?void 0:_.title)||"Unknown Title"}),((L=k.songs)==null?void 0:L.artist)&&a.jsx("p",{className:"text-sm text-gray-500",children:k.songs.artist}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[k.key&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:["Key: ",k.key]}),k.notes&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:["Notes: ",k.notes]}),N&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(an,{className:"mr-1",size:10})," Completed"]})]})]}),a.jsx("button",{onClick:$=>w(k.id,$),disabled:x===k.id,className:`ml-2 p-2 rounded-full ${N?"text-green-600 hover:bg-green-100":"text-gray-400 hover:bg-gray-100"} 
                            ${x===k.id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:N?"Mark as incomplete":"Mark as complete",children:x===k.id?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-green-500 rounded-full border-t-transparent"}):N?a.jsx(fy,{size:20}):a.jsx(Iy,{size:20})})]})})]})},k.id)})})]})]})]}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The service you're looking for doesn't exist or has been deleted."}),a.jsx("button",{onClick:()=>t("/calendar"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Calendar"})]})},Px=({selectedSongs:e=[],onSongsChange:t,churchId:r})=>{const[n,s]=y.useState([]),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r)try{o(!0);const{data:g,error:w}=await R.from("songs").select("id, title, artist, default_key").eq("church_id",r).order("title");if(w)throw w;s(g||[])}catch(g){console.error("Error fetching songs:",g)}finally{o(!1)}})()},[r]);const h=n.filter(f=>!e.some(g=>g.songId===f.id)),m=h.filter(f=>f.title.toLowerCase().includes(l.toLowerCase())||f.artist&&f.artist.toLowerCase().includes(l.toLowerCase())),v=f=>{const g={songId:f.id,title:f.title,artist:f.artist,key:f.default_key||"",notes:"",order:e.length+1};t([...e,g]),c(""),d(!1)},x=f=>{const g=[...e];g.splice(f,1);const w=g.map((S,k)=>({...S,order:k+1}));t(w)},b=(f,g)=>{if(g==="up"&&f===0||g==="down"&&f===e.length-1)return;const w=[...e],S=g==="up"?f-1:f+1;[w[f],w[S]]=[w[S],w[f]];const k=w.map((N,_)=>({...N,order:_+1}));t(k)},C=(f,g)=>{const w=[...e];w[f].key=g,t(w)},p=(f,g)=>{const w=[...e];w[f].notes=g,t(w)};return a.jsxs("div",{children:[e.length>0?a.jsx("div",{className:"space-y-4 mb-4",children:e.map((f,g)=>a.jsxs("div",{className:"border rounded-md p-3 bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium",children:[g+1,". ",f.title]}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500",children:f.artist})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{type:"button",onClick:()=>b(g,"up"),disabled:g===0,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:a.jsx(cy,{size:14})}),a.jsx("button",{type:"button",onClick:()=>b(g,"down"),disabled:g===e.length-1,className:"p-1 rounded hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:a.jsx(ly,{size:14})}),a.jsx("button",{type:"button",onClick:()=>x(g),className:"p-1 rounded hover:bg-gray-200 text-red-500",title:"Remove song",children:a.jsx(Ii,{size:14})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Performance Key"}),a.jsx("input",{type:"text",value:f.key||"",onChange:w=>C(g,w.target.value),className:"mt-1 block w-full text-sm border border-gray-300 rounded-md shadow-sm p-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Key"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Performance Notes"}),a.jsx("input",{type:"text",value:f.notes||"",onChange:w=>p(g,w.target.value),className:"mt-1 block w-full text-sm border border-gray-300 rounded-md shadow-sm p-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes"})]})]})]},g))}):a.jsxs("div",{className:"text-center py-8 border-2 border-dashed rounded-md mb-4",children:[a.jsx(gt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No songs added"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add songs to your service from your song library"})]}),u?a.jsxs("div",{className:"space-y-3 border p-3 rounded-md",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium",children:"Add Song to Service"}),a.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx(Ii,{})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fa,{className:"text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search songs by title or artist...",value:l,onChange:f=>c(f.target.value)})]}),i&&a.jsx("div",{className:"flex justify-center py-5",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}),!i&&a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:m.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:h.length===0?"No songs available. Add songs to your library first.":"No songs matching your search criteria."}):a.jsx("ul",{className:"divide-y divide-gray-200",children:m.map(f=>a.jsx("li",{className:"px-4 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>v(f),children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:f.title}),f.artist&&a.jsx("p",{className:"text-sm text-gray-500",children:f.artist})]})},f.id))})})]}):a.jsxs("button",{type:"button",onClick:()=>d(!0),disabled:!r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx(Qe,{className:"mr-2"})," Add Song"]})]})},Wu=()=>{const e=et(),{id:t}=Ss(),{user:r}=He(),n=!!t,[s,i]=y.useState(!1),[o,l]=y.useState(!1),[c,u]=y.useState([]),[d,h]=y.useState([]),[m,v]=y.useState([]),[x,b]=y.useState([]),[C,p]=y.useState(null),f=le(),g=`Service - ${f.format("MMMM D, YYYY")}`,w=f.format("YYYY-MM-DD"),[S,k]=y.useState({title:g,description:"",start_time:`${w}T09:00`,end_time:`${w}T10:30`,service_date:w,location:"Church",church_id:"",team_id:null,event_type:"service",created_by:r==null?void 0:r.id});y.useEffect(()=>{if(S.service_date&&!n){const T=le(S.service_date);k(D=>({...D,title:`Service - ${T.format("MMMM D, YYYY")}`,start_time:`${S.service_date}T09:00`,end_time:`${S.service_date}T10:30`}))}},[S.service_date,n]),y.useEffect(()=>{(async()=>{try{i(!0);const{data:D,error:q}=await R.from("churches").select("id, name");if(q)throw q;if(u(D||[]),S.church_id){const{data:O,error:E}=await R.from("worship_teams").select("id, name, description").eq("church_id",S.church_id);if(E)throw E;h(O||[])}if(n){const{data:O,error:E}=await R.from("events").select("*").eq("id",t).single();if(E)throw E;if(O){const A=le(O.start_time).format("YYYY-MM-DD");k({...O,start_time:le(O.start_time).format("YYYY-MM-DDTHH:mm"),end_time:le(O.end_time).format("YYYY-MM-DDTHH:mm"),service_date:A});const{data:F,error:j}=await R.from("event_songs").select("id, song_id, song_order, key, notes, songs(id, title, artist, default_key)").eq("event_id",t).order("song_order");if(j)throw j;F&&v(F.map(P=>{var I,H,G;return{id:P.id,songId:P.song_id,order:P.song_order,key:P.key||((I=P.songs)==null?void 0:I.default_key)||"",notes:P.notes||"",title:((H=P.songs)==null?void 0:H.title)||"",artist:((G=P.songs)==null?void 0:G.artist)||""}}))}}}catch(D){console.error("Error fetching data:",D),p("Error loading data. Please try again.")}finally{i(!1)}})()},[t,n,r]);const N=T=>{const{name:D,value:q}=T.target;if(D==="church_id"||D==="team_id"){const O=q===""?null:q;k(E=>({...E,[D]:O})),D==="church_id"&&(_(O),k(E=>({...E,team_id:null})))}else k(O=>({...O,[D]:q}))},_=async T=>{if(!T){h([]);return}try{const{data:D,error:q}=await R.from("worship_teams").select("id, name, description").eq("church_id",T);if(q)throw q;h(D||[])}catch(D){console.error("Error fetching teams:",D),p("Error loading teams. Please try again.")}},L=T=>{v(T)},$=async T=>{T.preventDefault();try{if(l(!0),p(null),!S.church_id){p("Please select a church"),l(!1);return}const D={...S,start_time:le(S.start_time).toISOString(),end_time:le(S.end_time).toISOString(),created_by:r.id,team_id:S.team_id||null,church_id:S.church_id||null};delete D.service_date,console.log("Submitting service data:",D);let q=t;if(n){const{error:O}=await R.from("events").update(D).eq("id",t);if(O)throw console.error("Error updating service:",O),O}else{const{data:O,error:E}=await R.from("events").insert(D).select("id").single();if(E)throw console.error("Error creating service:",E),E;if(!O||!O.id)throw new Error("No service ID returned from creation");q=O.id}if(q){if(console.log("Service ID for songs and team members:",q),n){const O=m.filter(E=>E.id).map(E=>E.id);if(O.length>0){const{error:E}=await R.from("event_songs").delete().eq("event_id",q).not("id","in",`(${O.join(",")})`);if(E)throw console.error("Error deleting songs:",E),E}else{const{error:E}=await R.from("event_songs").delete().eq("event_id",q);if(E)throw console.error("Error deleting all songs:",E),E}}for(const O of m)if(O.id){const{error:E}=await R.from("event_songs").update({song_order:O.order,key:O.key,notes:O.notes}).eq("id",O.id);if(E)throw console.error("Error updating song:",E),E}else{const E={event_id:q,song_id:O.songId,song_order:O.order,key:O.key,notes:O.notes};console.log("Adding new song to service:",E);const{error:A}=await R.from("event_songs").insert(E);if(A)throw console.error("Error adding song:",A),A}if(x.length>0){if(console.log("Saving team member assignments:",x),n){const O=x.filter(E=>E.id).map(E=>E.id);if(O.length>0){const{error:E}=await R.from("service_team_members").delete().eq("event_id",q).not("id","in",`(${O.join(",")})`);if(E)throw console.error("Error deleting team members:",E),E}else{const{error:E}=await R.from("service_team_members").delete().eq("event_id",q);if(E)throw console.error("Error deleting all team members:",E),E}}for(const O of x)if(O.id){const{error:E}=await R.from("service_team_members").update({role:O.role,notes:O.notes,is_confirmed:O.isConfirmed}).eq("id",O.id);if(E)throw console.error("Error updating team member:",E),E}else{const E={event_id:q,user_id:O.userId,role:O.role,notes:O.notes,is_confirmed:O.isConfirmed||!1};console.log("Adding new team member to service:",E);const{error:A}=await R.from("service_team_members").insert(E);if(A)throw console.error("Error adding team member:",A),A}}}else throw new Error("Failed to get a valid service ID");e("/calendar")}catch(D){console.error("Error saving service:",D),p(`Error saving service: ${D.message||"Please try again"}`)}finally{l(!1)}};return s?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"max-w-3xl mx-auto p-4 mb-20",children:[" ",a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:n?"Edit Service":"Create New Service"}),C&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a.jsx("p",{children:C})}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-4 mb-4",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[" ",a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_date",className:"block text-sm font-medium text-gray-700",children:[a.jsx(fr,{className:"inline mr-1"})," Service Date*"]}),a.jsx("input",{type:"date",id:"service_date",name:"service_date",required:!0,value:S.service_date,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"church_id",className:"block text-sm font-medium text-gray-700",children:"Church*"}),a.jsxs("select",{id:"church_id",name:"church_id",required:!0,value:S.church_id||"",onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select Church"}),c.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Service Title*"}),a.jsx("input",{type:"text",id:"title",name:"title",required:!0,value:S.title,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),S.church_id&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-4 mb-8",children:[" ",a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Service Songs"}),a.jsx(Px,{selectedSongs:m,onSongsChange:L,churchId:S.church_id})]}),a.jsxs("div",{className:"flex justify-center mb-16",children:[" ",a.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Saving...":n?"Update Service":"Create Service"})]})]})]})};function Tx(){return a.jsx(iy,{children:a.jsx(Ig,{children:a.jsxs(Eg,{children:[a.jsx(pe,{path:"/login",element:a.jsx(Vy,{})}),a.jsx(pe,{path:"/register",element:a.jsx(Hy,{})}),a.jsx(pe,{path:"/forgot-password",element:a.jsx(qy,{})}),a.jsx(pe,{path:"/reset-password",element:a.jsx(Wy,{})}),a.jsx(pe,{path:"/verify-email",element:a.jsx(Gy,{})}),a.jsxs(pe,{element:a.jsx(By,{}),children:[a.jsx(pe,{path:"/dashboard",element:a.jsx(Zy,{})}),a.jsx(pe,{path:"/calendar",element:a.jsx(ex,{})}),a.jsx(pe,{path:"/songs",element:a.jsx(tx,{})}),a.jsx(pe,{path:"/songs/:id",element:a.jsx(Cx,{})}),a.jsx(pe,{path:"/songs/new",element:a.jsx(qu,{})}),a.jsx(pe,{path:"/songs/edit/:id",element:a.jsx(qu,{})}),a.jsx(pe,{path:"/services",element:a.jsx(rx,{})}),a.jsx(pe,{path:"/services/:id",element:a.jsx(Ex,{})}),a.jsx(pe,{path:"/services/new",element:a.jsx(Wu,{})}),a.jsx(pe,{path:"/services/edit/:id",element:a.jsx(Wu,{})}),a.jsx(pe,{path:"/profile",element:a.jsx(lx,{})}),a.jsx(pe,{path:"/prayer-requests",element:a.jsx(cx,{})}),a.jsx(pe,{path:"/churches",element:a.jsx(ux,{})})]}),a.jsx(pe,{path:"/",element:a.jsx(gf,{to:"/dashboard",replace:!0})}),a.jsx(pe,{path:"*",element:a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"404 - Page Not Found"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"The page you're looking for doesn't exist."}),a.jsx("button",{onClick:()=>window.history.back(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Go Back"})]})})]})})})}Ga.createRoot(document.getElementById("root")).render(a.jsx($t.StrictMode,{children:a.jsx(Tx,{})}));export{Di as g};
